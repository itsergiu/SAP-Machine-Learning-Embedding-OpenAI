<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->

<!--[if gte IE 9]>
<html class="ie" lang="en-US">
<![endif]-->

<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar" content="black"/>
    <title>SAP HANA Cloud Machine Learning Challenge &#8220;I quit!&#8221; &#8211; understanding metrics | SAP Blogs</title>
    <link rel="profile" href="http://gmpg.org/xfn/11"/>

    
    
    <!--[if lt IE 9]>
    <script src="https://blogs.sap.com/wp-content/themes/sap-v3-neo/js/html5.min.js" type="text/javascript"></script>
    <![endif]-->

    <script type="module" src="https://static.community.services.sap/com-hdr/v10/276.100.53/shared-ui/1dx-assets/js/cxs-designsystem/cxs-designsystem.esm.js"></script><link rel="icon" type="image"  href="https://static.community.services.sap/com-hdr/v10/276.100.53/shared-ui/1dx-assets/images/favicon.png" /><link rel="shortcut icon" type="image/x-icon"  href="https://static.community.services.sap/com-hdr/v10/276.100.53/shared-ui/1dx-assets/images/favicon.ico" /><link rel="apple-touch-icon" href="https://static.community.services.sap/com-hdr/v10/276.100.53/shared-ui/1dx-assets/images/apple-touch-icon.png" /><meta name='robots' content='max-image-preview:large' />
    <script type="text/javascript">
        window.adobeDataLayer = window.adobeDataLayer || [];
    </script>
    <link rel='dns-prefetch' href='//static.community.services.sap' />
<link rel='dns-prefetch' href='//assets.adobedtm.com' />
<link rel="alternate" type="application/rss+xml" title="SAP Blogs &raquo; Feed" href="https://blogs.sap.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="SAP Blogs &raquo; Comments Feed" href="https://blogs.sap.com/comments/feed/" />
<meta name="type" content="Blog" /><meta name="description" content="Author: Sergiu Iatco  I participated in the SAP HANA ML Challenge &#8211; Employee Churn 🤖 and I came in second place 🏆. I would like to thank the entire SAP expert team for the initiative and organization!" /><meta name="sm_tech_ids" content="240174591523510321507492941674121"/><meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1" /><link rel="alternate" type="application/rss+xml" title="SAP Blogs &raquo; SAP HANA Cloud Machine Learning Challenge &#8220;I quit!&#8221; &#8211; understanding metrics Comments Feed" href="https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/feed/" />
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/blogs.sap.com\/res1dx-575\/wp-includes\/js\/wp-emoji-release.min.js"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode,e=(p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0),i.toDataURL());return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([129777,127995,8205,129778,127999],[129777,127995,8203,129778,127999])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='twentytwelve-style-css' href='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/style.min.css' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css' href='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/css/ie.css' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='designmate_styles-css' href='https://static.community.services.sap/designmate/v3/241/latest/designmate.css' type='text/css' media='all' />
<link rel='stylesheet' id='designsystem_styles-css' href='https://static.community.services.sap/community-ds/v1/381/main.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css' href='https://blogs.sap.com/res1dx-575/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='classic-theme-styles-css' href='https://blogs.sap.com/res1dx-575/wp-includes/css/classic-themes.min.css' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='prism-css' href='https://blogs.sap.com/res1dx-575/wp-includes/js/tinymce/plugins/codesample/css/prism.css' type='text/css' media='all' />
<link rel='stylesheet' id='sap_custom_link_css-css' href='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-core-custom//include/css/sap-core-custom.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='sap_lightbox_gallery_css-css' href='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-lightbox-gallery/lib/lightbox-gallery.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='pt_style_css-css' href='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-primary-tag/css/pt_style.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='wordpress-popular-posts-css-css' href='https://blogs.sap.com/res1dx-575/wp-content/plugins/wordpress-popular-posts/assets/css/wpp.css' type='text/css' media='all' />
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-includes/js/jquery/jquery.min.js' id='jquery-core-js'></script>
<script type='text/javascript' id='jquery-core-js-after'>
if (jQuery !== undefined) {
                jQuery(window).on("load", function(){
                    var _wpWindowLoaded = document.createElement("div");
                    _wpWindowLoaded.setAttribute("class", "hidden");
                    _wpWindowLoaded.setAttribute("id", "wp_window_loaded");
                    document.body.appendChild(_wpWindowLoaded);
                });
            }
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-includes/js/jquery/jquery-migrate.min.js' id='jquery-migrate-js'></script>
<script type='text/javascript' src='//assets.adobedtm.com/ccc66c06b30b/d266848b2882/launch-f095fbc32a96.min.js' id='scn_adobe_dtm-js'></script>
<script type='application/json' id='wpp-json'>
{"sampling_active":0,"sampling_rate":100,"ajax_url":"https:\/\/blogs.sap.com\/wp-json\/wordpress-popular-posts\/v1\/popular-posts","api_url":"https:\/\/blogs.sap.com\/wp-json\/wordpress-popular-posts","ID":1676502,"token":"db27f9c174","lang":0,"debug":0}
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/wordpress-popular-posts/assets/js/wpp.min.js' id='wpp-js-js'></script>
<link rel="https://api.w.org/" href="https://blogs.sap.com/wp-json/" /><link rel="alternate" type="application/json" href="https://blogs.sap.com/wp-json/wp/v2/posts/1676502" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://blogs.sap.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://blogs.sap.com/wp-includes/wlwmanifest.xml" />

<link rel="canonical" href="https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/" />
<link rel='shortlink' href='https://blogs.sap.com/?p=1676502' />
<script type="text/javascript">var ajaxurl = "https://blogs.sap.com/wp-admin/admin-ajax.php";var likePostLabel = "Like";var unLikePostLabel = "Liked";var likeCommentLabel = "Like";var unLikeCommentLabel = "Liked";</script>            <style id="wpp-loading-animation-styles">@-webkit-keyframes bgslide{from{background-position-x:0}to{background-position-x:-200%}}@keyframes bgslide{from{background-position-x:0}to{background-position-x:-200%}}.wpp-widget-placeholder,.wpp-widget-block-placeholder{margin:0 auto;width:60px;height:3px;background:#dd3737;background:linear-gradient(90deg,#dd3737 0%,#571313 10%,#dd3737 100%);background-size:200% auto;border-radius:3px;-webkit-animation:bgslide 1s infinite linear;animation:bgslide 1s infinite linear}</style>
                <!--[if IE ]>
    <link rel="stylesheet" id="scn-ie-styles" href="https://blogs.sap.com/wp-content/themes/sap-v3-neo/css/ie.css"
          type="text/css" media="all">
    <link id="ids-popup-css" href="https://accounts.sap.com/universalui/shared/stylesheets/idsPopup.css"
          rel="stylesheet"
          type="text/css">
    <![endif]-->


</head>

<body class="post-template-default single single-post postid-1676502 single-format-standard">


<div class="page-wrapper">
<b class="cn-accessibility"><a href="#main" tabindex="0" accesskey="S">Skip to Content</a></b>
<div id="page" class="hfeed site">

<header id="masthead" class="blogs-nav sap-header">
    
  <div class="ds-community-header">
    <ds-contextual-navigation
      main-links='[{"title":"Topics","url":"https://community.sap.com/topics","subMenuRows":[]},{"title":"Groups","url":"https://groups.community.sap.com","subMenuRows":[{"subMenuLinkItems":[{"category":"","url":"","items":[{"title":"All Groups","url":"https://groups.community.sap.com/","externalLink":true},{"title":"Locations","url":"https://groups.community.sap.com/t5/location/ct-p/location","externalLink":true},{"title":"Interests","url":"https://groups.community.sap.com/t5/interests/ct-p/interests","externalLink":true},{"title":"Activities","url":"https://groups.community.sap.com/t5/activities/ct-p/activities","externalLink":true},{"title":"Influence and Feedback Groups","url":" https://groups.community.sap.com/t5/influence-and-feedback-groups/ct-p/influence-feedback","externalLink":true}],"displayItemsAsCategoryLink":false}]}]},{"title":"Answers","url":"https://answers.sap.com","subMenuRows":[{"subMenuLinkItems":[{"category":"","url":"","items":[{"title":"All Questions","url":"https://answers.sap.com","externalLink":false},{"title":"Ask a Question","url":"https://answers.sap.com/questions/ask.html","externalLink":false},{"title":"How to Ask a Question","url":"https://developers.sap.com/tutorials/community-qa.html","externalLink":true},{"title":"Using Tags","url":"https://community.sap.com/resources/using-tags","externalLink":false},{"title":"All Tags","url":"https://answers.sap.com/tags.html","externalLink":false}],"displayItemsAsCategoryLink":false}]}]},{"title":"Blogs","url":"https://blogs.sap.com","subMenuRows":[{"subMenuLinkItems":[{"category":"","url":"","items":[{"title":"All Blog Posts","url":"https://blogs.sap.com","externalLink":false},{"title":"Write a Blog Post","url":"https://blogs.sap.com/wp-admin/post-new.php","externalLink":false},{"title":"How to Write a Blog Post","url":"https://community.sap.com/resources/blogging","externalLink":false},{"title":"Using Tags","url":"https://community.sap.com/resources/using-tags","externalLink":false},{"title":"Using Categories","url":"https://community.sap.com/resources/blogging#Using_categories","externalLink":false},{"title":"All Tags","url":"https://blogs.sap.com/tags/","externalLink":false}],"displayItemsAsCategoryLink":false}]}]},{"title":"Events","url":"","subMenuRows":[{"subMenuLinkItems":[{"category":"","url":"","items":[{"title":"All Events","url":"https://groups.community.sap.com/t5/events/ct-p/events","externalLink":true},{"title":"SAP Community","url":"https://groups.community.sap.com/t5/sap-community/eb-p/community-events","externalLink":true},{"title":"SAP CodeJam","url":"https://groups.community.sap.com/t5/sap-codejam/eb-p/codejam-events","externalLink":true},{"title":"SAP Community Calls","url":"https://groups.community.sap.com/t5/sap-community-calls/eb-p/community-calls","externalLink":true},{"title":"SAP Inside Track","url":"https://groups.community.sap.com/t5/sap-insidetrack/eb-p/insidetrack","externalLink":true},{"title":"SAP Stammtisch","url":"https://groups.community.sap.com/t5/sap-stammtisch/eb-p/stammtisch","externalLink":true},{"title":"SAP SuccessFactors","url":"https://groups.community.sap.com/t5/sap-successfactors/eb-p/successfactorsevents","externalLink":true},{"title":"User Groups","url":"https://groups.community.sap.com/t5/user-groups/eb-p/user-groups","externalLink":true}],"displayItemsAsCategoryLink":false}]}]},{"title":"Programs","url":"https://community.sap.com/programs","subMenuRows":[{"subMenuLinkItems":[{"category":"","url":"","items":[{"title":"Influencers","url":"https://community.sap.com/programs/influencer-programs","externalLink":false},{"title":"Spotlight Interviews","url":"https://community.sap.com/programs/spotlight-interviews","externalLink":false},{"title":"All Programs","url":"https://community.sap.com/programs","externalLink":false}],"displayItemsAsCategoryLink":false}]}]},{"title":"Resources","url":"https://community.sap.com/resources","subMenuRows":[{"subMenuLinkItems":[{"category":"","url":"","items":[{"title":"Getting Started","url":"https://developers.sap.com/tutorials/community-2022.html","externalLink":true},{"title":"Community Tutorials","url":"https://community.sap.com/resources/tutorials","externalLink":false},{"title":"Community Videos","url":"https://community.sap.com/resources/tip-in-a-minute#Videos","externalLink":false},{"title":"Community Voice Newsletter","url":"https://community.sap.com/voice-nl","externalLink":false},{"title":"Reputation","url":"https://community.sap.com/resources/reputation","externalLink":false},{"title":"Missions & Badges","url":"https://community.sap.com/resources/missions-badges","externalLink":false},{"title":"Moderation","url":"https://community.sap.com/resources/moderation","externalLink":false},{"title":"Rules of Engagement","url":"https://community.sap.com/resources/rules-of-engagement","externalLink":false},{"title":"All Resources","url":"https://community.sap.com/resources","externalLink":false}],"displayItemsAsCategoryLink":false}]}]},{"title":"What&apos;s New","url":"https://community.sap.com/resources/what-is-new","subMenuRows":[]}]'
      explore-sap-link='{"title":"Explore SAP","subMenuRows":[{"subMenuLinkItems":[{"category":"Products","url":"https://www.sap.com/products.html","items":[{"title":"Business Network","url":"https://www.sap.com/products/business-network.html"},{"title":"Business Technology Platform","url":"https://www.sap.com/products/technology-platform.html"},{"title":"CRM and Customer Experience","url":"https://www.sap.com/products/crm.html"},{"title":"Enterprise Resource Planning","url":"https://www.sap.com/products/erp.html"},{"title":"Financial Management","url":"https://www.sap.com/products/financial-management.html"},{"title":"Human Capital Management","url":"https://www.sap.com/products/hcm.html"},{"title":"Small and Midsize Enterprises","url":"https://www.sap.com/products/sme-business-software.html"},{"title":"Spend Management","url":"https://www.sap.com/products/spend-management.html"},{"title":"Supply Chain Management","url":"https://www.sap.com/products/scm.html"},{"title":"Sustainability Management","url":"https://www.sap.com/sustainability.html"},{"title":"-","url":""},{"title":"View products A-Z","url":"https://www.sap.com/products/a-z.html"},{"title":"View Industries","url":"https://www.sap.com/industries.html"},{"title":"Trials and Demos","url":"https://www.sap.com/products/free-trials.html"},{"title":"-","url":""},{"title":"Partners","url":"https://www.sap.com/partners.html"},{"title":"-","url":""},{"title":"Services","url":"https://www.sap.com/services-support.html"}],"displayItemsAsCategoryLink":false},{"category":"Learning and Support","url":"","items":[{"title":"Learning and Certification","url":"https://learning.sap.com"},{"title":"Support","url":"https://support.sap.com"},{"title":"Documentation","url":"https://help.sap.com"},{"title":"Community","url":"https://community.sap.com/"}],"displayItemsAsCategoryLink":false},{"category":"About","url":"","items":[{"title":"Company Information","url":"https://www.sap.com/about/company.html"},{"title":"Careers","url":"https://jobs.sap.com/?utm_source=CareerSite&utm_campaign=CorpSite_HD"},{"title":"Customer Stories","url":"https://www.sap.com/about/customer-stories.html"},{"title":"Events","url":"https://www.sap.com/events.html"},{"title":"Investor Relations","url":"https://www.sap.com/investors/en.html"},{"title":"News Center","url":"https://news.sap.com/"},{"title":"Security and Trust","url":"https://www.sap.com/about/trust-center.html"}],"displayItemsAsCategoryLink":false}]}],"displayTitle":"Explore all areas of SAP"}'
      landing-zone='{"title":"Community","url":"https://community.sap.com/"}'
      profile='{"accountManagementUrl":"https://people.sap.com","links":[{"title":"Ask a Question","url":"https://answers.sap.com/questions/ask.html"},{"title":"Write a Blog Post","url":"https://blogs.sap.com/wp-admin/post-new.php"},{"title":"Activity Stream","url":"https://activities.sap.com"},{"title":"Send a Message","url":"https://messages.sap.com"},{"title":"Inbox","url":"https://people.sap.com/inbox"}]}'
      search-config='{"disabled":false,"url":"https://community.sap.com/search/","placeholder":"Search the SAP Community","inputName":"q","queryParameters":{"ct":"all","searchReferrer":"contextual_navigation_development"}}'
      on-country-selected='country => alert(country)'
      country-selector-config='{"enabled":false,"searchDisabled":false,"regions":[]}'
      hide-explore-sap-link='false'
      avatar-source-url='https://avatars.services.sap.com/images'
    ></ds-contextual-navigation>
  </div><div class="announcements" role="menubar"><script type="text/javascript">function readAnnouncementCookie(n){const e=new RegExp("(?:(?:^|.*;\\s*)"+n+"\\s*\\=\\s*([^;]*).*$)|^.*$"),t=document.cookie.replace(e,"$1");if(t)try{var o=JSON.parse(decodeURIComponent(t))}catch(n){console.error(n)}return o}function initAnnouncement(n){const e={typeId:n.typeId,version:parseInt(n.version),startDate:new Date(n.startDate),endDate:new Date(n.endDate),containerId:n.containerId},t=new Date;if(t>=e.startDate&&t<e.endDate){const n="sap_comm_global_announcements",o=readAnnouncementCookie(n),a=e.typeId+"-"+e.version;if(!o||!o[a]||!o[a].closed){const o=document.getElementById(e.containerId);o.classList.remove("ds-global-announcement--hidden"),o.querySelector("span.ds-global-announcement__close-button").onclick=function(){o.classList.add("ds-global-announcement--hidden"),e.closed=!0;const c={};c[a]=e;const s=readAnnouncementCookie(n);if(s)for(var d in s)a!=d&&new Date(s[d].endDate)>=t&&(c[d]=s[d]);const i=new Date;i.setMonth(i.getMonth()+12);const r=document.location.hostname,m=r.lastIndexOf(".sap.com")==r.length-".sap.com".length?".sap.com":document.location.hostname;document.cookie=n+"="+JSON.stringify(c)+";expires="+i+";domain="+m+";path=/"}}}}</script><div class="ds-content-wrapper ds-global-announcement-wrapper"><div class="ds-flexGrid"><div class="ds-global-announcement ds-global-announcement--hidden" id="global-announcement"><div class="ds-flexGrid ds-global-announcement__content-wrapper"><div class="ds-flexRow ds-global-announcement__content-row"><div class="ds-global-announcement__icon-wrapper"><i class="ds-icon--exclamation-circle ds-global-announcement__icon"></i></div><div class="ds-global-announcement__details-wrapper ds-flexCol"><div class="ds-global-announcement__details"><div class="ds-global-announcement__title-wrapper"><span class="ds-global-announcement__title">SAP Community Log-in Update</span></div><div class="ds-global-announcement__description">In a few months, SAP Community will switch to SAP Universal ID as the only option to login. Don’t wait, create your SAP Universal ID now! If you have multiple accounts, use the Consolidation Tool to merge your content.</div></div><a class="ds-button ds-button--primary ds-global-announcement__readmore" href="https://community.sap.com/resources/universal-id-faq" title="Get started with SAP Universal ID" target="_blank">Get started with SAP Universal ID</a></div></div></div><span class="ds-global-announcement__close-button" role="button" tabindex="0" aria-label="Click to close announcement"><i class="ds-icon--big ds-icon--close ds-global-announcement__close-icon"></i></span></div></div></div><script type="text/javascript">initAnnouncement({
            typeId: 'global-announcement',
            containerId: 'global-announcement',
            version: 93,
            startDate: '2023-04-21T15:19:04.000Z',
            endDate: '2023-06-01T05:00:09.000Z'
        });</script></div><div class="dm-wrapper dm-subheader dm-subheader--wrapper  dm-user--unauthenticated "><div class="dm-grid"><div class="dm-breadcrumb dm-user--unauthenticated" role="menubar">
    <ul class="dm-breadcrumb-nav" role="navigation" aria-label="breadcrumb navigation to trace the path back to original landing point">
        
        <li><a id="comm-shdr-breadcrumb-home" href="https://www-qa.sap.com" title="Home">Home</a></li>
        
        <li><a id="comm-shdr-breadcrumb-community" href="https://community-qa.sap.com" title="Community">Community</a></li>
        
    </ul>
    <ul class="dm-breadcrumb-actions" role="menu">
        
        <li><a id="comm-shdr-AskQuestion" href="https://answers-qa.sap.com/questions/ask.html" title="Ask a Question">Ask a Question</a></li>
        
        <li><a id="comm-shdr-WriteBlogPost" href="https://blogs-qa.sap.com/wp-admin/post-new.php" title="Write a Blog Post">Write a Blog Post</a></li>
        
        <li class="dm-user__login-button--wrapper"><a class="dm-button-small dm-button--primary" role="button" rel="IDS_login" aria-label="Login or Sign up. Click here to log in or sign up"><span class="dm-button-text">Login / Sign-up</span></a></li>
        <li class="dm-breadcrumb-actions__dropdown">
            <span id="comm-shdr-actions-opener" class="dm-breadcrumb-actions__dropdown-toggle" title="Community actions">
                 <span class="dm-icon-encoded dm-icon-encoded--3dots"></span>
            </span>
            <ul id="comm-shdr-user-actions-ul" class="dm-breadcrumb-actions__dropdown-menu" role="menu">
            </ul>
        </li>
    </ul>
</div>
</div></div>    <!-- #site-navigation -->

</header>

<!-- #masthead -->
<div id="main" tabindex="0" class="wrapper">




<div class="ds-blog-post-detail">
<div class="ds-flexGrid">
  <div class="ds-flexRow">
    <div class="ds-flexCol">
            <div class="ds-content-wrapper ds-blog-post__content-wrapper">
        <h6 class="ds-heading ds-heading--xs ds-blog-post__sub-title"><span>Technical Articles</span></h6>
        <div class="ds-flexRow">
          <div class="ds-flexCol-sm-12 ds-flexCol-md-9">
            
<div class="ds-blog-post__body-wrapper">
  <div class="ds-blog-post__content">
    <div class="ds-blog-post__header-wrapper">
      <a target="_blank" rel="noopener noreferrer" href="https://people.sap.com/sergiu.iatco" class="ds-blog-post__avatar "  >
        <img alt='Author&#039;s profile photo Sergiu Iatco' src='https://avatars.services.sap.com/images/sergiu.iatco.png' class='avatar avatar-48 photo ds-avatar-component ds-avatar-component--small' height='48' width='48' />      </a>
      <div class="ds-blog-post__author-info-wrapper">
        <div class="ds-user ds-blog-post__author">
          <a class="ds-link ds-user__name " href="https://people.sap.com/sergiu.iatco" target="_blank" title="Sergiu Iatco" aria-label="" rel="noopener noreferrer">Sergiu Iatco</a>
                  </div>
        <div class="ds-blog-post__meta-info">
          <span class="ds-blog-post__date">January 9, 2023</span>
          <span class="ds-blog-post__read-duration">15 minute read</span>
        </div>
      </div>
    </div>
    <h1 class="ds-heading ds-heading--m ds-blog-post__title">SAP HANA Cloud Machine Learning Challenge &#8220;I quit!&#8221; &#8211; understanding metrics</h1>
    <div class="ds-blog-post__social-stats-wrapper">
      <div class="ds-social-stats ">
        <span class="ds-social-stats__stat">
          <i class="ds-icon ds-icon--comments"></i>4        </span>
        <span id="post-likes-counter" class="ds-social-stats__stat">
          <i class="ds-icon ds-icon--likes-outline"></i>13        </span>
        <span class="ds-social-stats__stat">
          <i class="ds-icon ds-icon--views"></i>1,402        </span>
      </div>
          </div>
    <div class="ds-blog-post__body ds-editor-content">
      <p><em>Author: <a href="https://people.sap.com/iatco.sergiu"  target="_blank" >Sergiu Iatco</a> </em></p>
<p>I participated in the <a href="https://blogs.sap.com/2022/11/07/sap-community-call-sap-hana-cloud-machine-learning-challenge-i-quit-how-to-prevent-employee-churn/" >SAP HANA ML Challenge &#8211; Employee Churn</a> 🤖 and I came in <a href="https://blogs.sap.com/2022/12/22/sap-hana-cloud-machine-learning-challenge-2022-the-winners-are/" >second place</a> 🏆.</p>
<p>I would like to thank the entire SAP expert team for the initiative and organization! 👏</p>
<p id="tw-target-text" dir="ltr" data-placeholder="Translation"><span lang="en">Presentation of the winners&#8217; solutions </span>on YouTube:</p>
<p><a href="https://youtu.be/ul5ZqnB3qVw"  target="_blank" >How to prevent Employee Churn using SAP HANA Cloud​ | SAP Community Call</a></p>
<p><span lang="en">My achievement post on <a href="https://www.linkedin.com/feed/update/urn:li:activity:7026832818781499392/"  target="_blank" >LinkedIn</a>.</span></p>
<h2>Table of content</h2>
<p><a href="#cp01" >1. Getting started</a><br />
<a href="#cp02" >2. Understanding the challenge</a><br />
<a href="#cp03" >3. Exploratory data analysis and pre-processing</a><br />
<a href="#cp04" >4. Baseline model with initial data</a><br />
<a href="#cp05" >5. Understanding statistics</a><br />
<a href="#cp06" >6. Training model with additional data</a><br />
<a href="#cp07" >7. Reducing the number of features</a><br />
<a href="#cp08" >8. Balancing training data with SMOTE</a><br />
<a href="#cp09" >9. Balancing test data and increasing training data</a><br />
<a href="#cp10" >10. Finding top SMOTE</a><br />
<a href="#cp11" >11. Building top models</a><br />
<a href="#cp12" >12. Analyzing top models</a><br />
<a href="#cp13" >13. Visualizing statistics</a><br />
<a href="#cp14" >14. Further steps</a></p>
<h1><a id="cp01"></a>1. Getting started</h1>
<p>The challenge was an opportunity for me to get hands-on experience with <a href="https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.05/en-US/html/hana_ml.html"  target="_blank" >SAP Python Machine Learning Client for SAP HANA</a>. The participants had continuous support from SAP team experts during <a href="https://blogs.sap.com/2022/11/28/i-quit-how-to-predict-employee-churn-sap-hana-cloud-machine-learning-challenge/" >open office hours</a>, discussions on <a id="link_0" class="lia-link-navigation crumb-community lia-breadcrumb-community lia-breadcrumb-forum" style="font-size: 1rem" href="https://groups.community.sap.com/t5/application-development/community-challenge-alert-the-sap-hana-cloud-machine-learning/m-p/127516"  target="_blank" >SAP Community Groups,</a> and <a href="https://github.com/SAP-samples/hana-ml-samples/tree/main/Python-API/usecase-examples"  target="_blank" >tutorials on GitHub</a>. I gained my previous experience from <a href="https://www.kaggle.com/"  target="_blank" >Kaggle</a> and <a href="https://open.sap.com/courses/"  target="_blank" >SAP open courses</a>. Participants without SAP HANA Cloud instance, myself included, received credentials to execute Jupyter Notebooks in the cloud. The first step was to set up the environment. I installed <a href="https://www.anaconda.com/products/distribution"  target="_blank" >Anaconda</a>, created the environment, and installed <a href="https://anaconda.org/anaconda/scipy"  target="_blank" >SciPy</a> and <a href="https://pypi.org/project/hana-ml/"  target="_blank" >hana-ml</a>.</p>
<pre class="language-python"><code>conda create --name ml_hana python=3.8
conda install -c conda-forge scikit-learn
conda install -c anaconda pandas
conda install -c anaconda jupyter
pip install hana-ml</code></pre>
<p>After successfully testing the connection, I was ready to dig deeper into the problem we needed to solve.</p>
<h1><a id="cp02"></a>2. Understanding the challenge</h1>
<p>The task is to build a model that predicts if an employee will stay or quit. The collected data were provided in a CSV file. To look into the data we can use python libraries locally for light tasks and <em>hana_ml</em> for resource-consuming tasks. For data processing locally I used <em>Pandas DataFrame</em> and for the cloud the <em>HANA ML DataFrame</em><em>,</em> libraries are aligned in terms of methods, but the syntax is specific for each. I received all the required support from the expert team and I moved on with my exploratory data analysis. I focused on building a model with the best results and alternatives to it and providing a possibility to apply A/B testing on deployed models. The results of the final model I presented with visualization libraries. The machine learning problem of the challenge is a classification problem with two classes. One class is Stay labeled with No and another one is Quit labeled with Yes. I call them class No and class Yes. The class we have to predict is Yes. Counting the rows we can find that class No : Class Yes = 17015:2100 = 8:1. Looking at proportions I can see that data are highly imbalanced and I have a majority class No and a minority class Yes. Minority class Yes is the one I have to predict.</p>
<p>The final code in Jupyter Notebook contains 270 cells. In the blog, I will only go through the main parts. The entire <a href="https://github.com/itsergiu/sapcommunity-hanaml-challenge/blob/main/SAP%20HANA%20ML%20challendge%20-%20CHURN%20%20v2.3%20max.ipynb"  target="_blank" >code is on GitHub</a>, published with my last run. As with any code, it can be improved further if I had to maintain it in the long run.</p>
<h1><a id="cp03"></a>3. Exploratory data analysis and pre-processing</h1>
<p>Analyzing feature distributions.</p>
<pre class="language-python"><code># In [26]
# EDA features distributions
col_exc = ['ID']
for col in df_remote_add.columns:
    if col not in col_exc:
        print(df_remote_add.agg([('count', col, 'Count')], group_by=col).collect())</code></pre>
<p>Data contains Null values and I filled them with ‘-999’.</p>
<pre class="language-python"><code># In [31]:
df_remote = df_remote.fillna(-999)
df_remote = df_remote.fillna("-999")</code></pre>
<p>Feature engineering.</p>
<pre class="language-python"><code># In [34]
# TIMEINPREVPOSITIONMONTH - feature engineering group in intervals
# I will check by importance if this mattters
    
df_remote = df_remote.select \
    ('*',("""CASE WHEN TIMEINPREVPOSITIONMONTH &lt;=12 THEN 'PREV_POS (,12]'
                  WHEN TIMEINPREVPOSITIONMONTH &gt; 12 AND TIMEINPREVPOSITIONMONTH &lt;=24 THEN 'PREV_POS (12,24]'
                  WHEN TIMEINPREVPOSITIONMONTH &gt; 24 AND TIMEINPREVPOSITIONMONTH &lt;=36 THEN 'PREV_POS (24,36]'
                  WHEN TIMEINPREVPOSITIONMONTH &gt; 36 AND TIMEINPREVPOSITIONMONTH &lt;=48 THEN 'PREV_POS (36,48]'
                  WHEN TIMEINPREVPOSITIONMONTH &gt; 48 AND TIMEINPREVPOSITIONMONTH &lt;=60 THEN 'PREV_POS (48,60]'
                  WHEN TIMEINPREVPOSITIONMONTH &gt; 60 THEN 'TIMEPREV_POS (60,]'
              END""",'TIMEINPREVPOS_INT'))
df_remote = df_remote.to_tail('FLIGHT_RISK')
df_remote.head(3).collect()</code></pre>
<h1><a id="cp04"></a>4. Baseline model with initial data</h1>
<p>I split data into train data and test data and fit train data to build the first baseline model.</p>
<pre class="language-python"><code># In [42]:
from hana_ml.algorithms.pal.partition import train_test_val_split as split
d_train, d_test, d_val = split( data=df_remote, partition_method='stratified', stratified_column=target, validation_percentage = 0)
</code></pre>
<h3></h3>
<p>To build the model I used <a href="https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.05/en-US/html/hana_ml.algorithms.pal.html#module-hana_ml.algorithms.pal.unified_classification"  target="_blank" >HybridGradientBoostingTree</a> wrapped in a function.</p>
<p>I didn’t have to encode features the model did it for me. The model did the magic, but I had to feed it with data in the most efficient way step by step.</p>
<pre class="language-python"><code># In [47]:
# Function to use repeatedly
def model_fit(d_train):
    HGBT_MODEL = UnifiedClassification('HybridGradientBoostingTree')
</code></pre>
<p>&nbsp;</p>
<pre class="language-python"><code># In [56]:
HGBT_MODEL.statistics_.collect() # MODEL statistics</code></pre>
<p>Out [56]:</p>
<table>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.9959588537839824</td>
<td>No</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>PRECISION</td>
<td>0.9249402934152167</td>
<td>No</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>F1_SCORE</td>
<td>0.9591367415531578</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>2722</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.34523809523809523</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>PRECISION</td>
<td>0.9133858267716536</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>F1_SCORE</td>
<td>0.5010799136069115</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>336</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>9</strong></td>
<td>ACCURACY</td>
<td>0.9244604316546763</td>
<td>None</td>
</tr>
</tbody>
</table>
<p>Looking into model statistics at first glance I can consider myself very lucky with <em>ACCURACY = 0.92</em>, but looking at <em>SUPPORT No = 2722</em> and <em>SUPPORT Yes = 336</em> I recognize that validation data used for models metrics calculations is imbalanced and this high <em>ACCURACY</em> is because of the majority class No with <em>RECALL No = 0.99</em>, while <em>RECALL Yes = 0.34</em>. Since I am interested in the class Yes I can see that the results are very poor. What is a<em> RECALL</em>? I spent some time breaking down the <a href="https://en.wikipedia.org/wiki/Confusion_matrix"  target="_blank" ><strong>confusion matrix</strong></a> into basic elements. Because if I don’t feel confident with metrics I would not be able to improve the prediction model. Computers are fast and accurate at calculations, but the reasoning is a human task.</p>
<h1><a id="cp05"></a>5. Understanding statistics</h1>
<p>To calculate the metrics of the confusion matrix all we need is algebra, first, we count <em>TP (true positive)</em>, <em>FP (false positive)</em>, <em>FN (false negative),</em> and <em>TN (true negative)</em>, then with these four elements we can calculate all the metrics. If classes are imbalanced I can rely only on <em>RECALL</em> because calculations are performed with the prediction from each class <em>RECALL Positive = TP / TP + FP</em> and <em>RECALL Negative = TN / TN + FN</em>. To calculate <em>PRECISION</em> I need true prediction (<em>TP) </em>from one class and false predictions <em>(FP)</em> from another class. To calculate <em>ACCURACY</em> I need all four elements <em>TP, FP, FN,</em> and <em>TN</em>, and with imbalanced classes, results are misleading because the extremely good results of the majority class and poor results of the minority class will make overall results look good. You can also read this blog <a href="https://machinelearningmastery.com/failure-of-accuracy-for-imbalanced-class-distributions/"  target="_blank" >Failure of Classification Accuracy for Imbalanced Class Distributions</a>.</p>
<p>Let&#8217;s deep into confusion matrix principles, <span class="n"><span style="font-size: 12.0pt;font-family: 'Times New Roman',serif;color: #212121">best explained with an example.</span></span></p>
<table width="349">
<tbody>
<tr>
<td width="132"></td>
<td width="104">Predicted No</td>
<td width="113">Predicted Yes</td>
</tr>
<tr>
<td width="132">Actual No</td>
<td width="104">True No</td>
<td width="113">False Yes</td>
</tr>
<tr>
<td width="132">Actual Yes</td>
<td width="104">False No</td>
<td width="113">True Yes</td>
</tr>
</tbody>
</table>
<p>Assume one built a model with extremely good metrics for majority class No.</p>
<p>Majority class No, Minority class Yes = 900, 100</p>
<p>Assume confusion matrix results.</p>
<table width="349">
<tbody>
<tr>
<td width="132"></td>
<td width="104">Predicted No</td>
<td width="113">Predicted Yes</td>
</tr>
<tr>
<td width="132">Actual No</td>
<td width="104">900</td>
<td width="113">9</td>
</tr>
<tr>
<td width="132">Actual Yes</td>
<td width="104">82</td>
<td width="113">9</td>
</tr>
</tbody>
</table>
<p>Model statistics.</p>
<table width="368">
<tbody>
<tr>
<td width="139">RECALL No</td>
<td width="110">0.99</td>
<td width="120">extremely good</td>
</tr>
<tr>
<td width="139">PRECISION No</td>
<td width="110">0.92</td>
<td width="120">very good</td>
</tr>
<tr>
<td width="139">F1_SCORE No</td>
<td width="110">0.95</td>
<td width="120">very good</td>
</tr>
<tr>
<td width="139">SUPPORT No</td>
<td width="110">909</td>
<td width="120"></td>
</tr>
<tr>
<td width="139">RECALL Yes</td>
<td width="110">0.10</td>
<td width="120">very poor</td>
</tr>
<tr>
<td width="139">PRECISION Yes</td>
<td width="110">0.50</td>
<td width="120">poor</td>
</tr>
<tr>
<td width="139">F1_SCORE Yes</td>
<td width="110">0.17</td>
<td width="120">very poor</td>
</tr>
<tr>
<td width="139">SUPPORT Yes</td>
<td width="110">91</td>
<td width="120"></td>
</tr>
<tr>
<td width="139">ACCURACY</td>
<td width="110">0.91</td>
<td width="120">very good</td>
</tr>
</tbody>
</table>
<p>If I wanted to rely on all metrics I would force balancing classes in the confusion matrix dividing Actual No by 9.</p>
<table width="370">
<tbody>
<tr>
<td width="140"></td>
<td width="110">Predicted No</td>
<td width="120">Predicted Yes</td>
</tr>
<tr>
<td width="140">Actual No</td>
<td width="110">90</td>
<td width="120">1</td>
</tr>
<tr>
<td width="140">Actual Yes</td>
<td width="110">82</td>
<td width="120">9</td>
</tr>
</tbody>
</table>
<p>Model statistics adjusted.</p>
<table style="height: 126px" width="373">
<tbody>
<tr style="height: 14px">
<td style="height: 14px" width="141">RECALL No</td>
<td style="height: 14px" width="111">0.99</td>
<td style="height: 14px" width="121">very good (same)</td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">PRECISION No</td>
<td style="height: 14px" width="111">0.52</td>
<td style="height: 14px" width="121">poor</td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">F1_SCORE No</td>
<td style="height: 14px" width="111">0.68</td>
<td style="height: 14px" width="121">good</td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">SUPPORT No</td>
<td style="height: 14px" width="111">91</td>
<td style="height: 14px" width="121"></td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">RECALL Yes</td>
<td style="height: 14px" width="111">0.10</td>
<td style="height: 14px" width="121">very poor (same)</td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">PRECISION Yes</td>
<td style="height: 14px" width="111">0.90</td>
<td style="height: 14px" width="121">very good</td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">F1_SCORE Yes</td>
<td style="height: 14px" width="111">0.18</td>
<td style="height: 14px" width="121">very poor</td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">SUPPORT Yes</td>
<td style="height: 14px" width="111">91</td>
<td style="height: 14px" width="121"></td>
</tr>
<tr style="height: 14px">
<td style="height: 14px" width="141">ACCURACY</td>
<td style="height: 14px" width="111">0.54</td>
<td style="height: 14px" width="121">poor</td>
</tr>
</tbody>
</table>
<p>Now I can see that with balanced metrics <em>RECALL No</em> and <em>RECALL Yes</em> remain the same, <em>PRECISON No</em> drops significantly, <em>PRECISION Yes</em> increases significantly, but <em>F1_SCORE Yes</em> drops to very poor, and <em>ACCURACY</em> drops from 0.91 (very good) to 0.54 (poor).</p>
<p>You can read more about balanced accuracy score <a href="https://scikit-learn.org/stable/modules/model_evaluation.html#balanced-accuracy-score"  target="_blank" >here</a>.</p>
<p>Model statistics calculates metrics with validations data split from train data. Validation data is unseen data however used in fitting for iterative optimization.</p>
<p>To see how the model performs we have to calculate metrics for absolutely unseen data the test data.</p>
<p>Prediction statistics wrapped in a local function.</p>
<pre class="language-python"><code># In [61]:
f_score_res(HGBT_MODEL,d_test)[1].collect()
</code></pre>
<p>Out [61]:</p>
<table>
<thead>
<tr>
<td></td>
<td><strong>STAT_NAME</strong></td>
<td><strong>STAT_VALUE</strong></td>
<td><strong>CLASS_NAME</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.9964747356051704</td>
<td>No</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>PRECISION</td>
<td>0.9247546346782988</td>
<td>No</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>F1_SCORE</td>
<td>0.9592760180995475</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>1702</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.34285714285714286</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>PRECISION</td>
<td>0.9230769230769231</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>F1_SCORE</td>
<td>0.5000000000000001</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>9</strong></td>
<td>ACCURACY</td>
<td>0.9246861924686193</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><em>RECALL Yes</em> = 0.34 for predicted data is very poor and <em>ACCURACY = 0.92</em> doesn&#8217;t tell the true story.</p>
<p>In order to analyze the performance of subsequent approaches I will collect results in a local <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html"  target="_blank" >pandas DataFrame</a> wrapped in a local function to add subsequent models results.</p>
<pre class="language-python"><code># In [64]:
def f_stat_all(p_model, p_d_test, p_col_name):
df_model_stat_last # model metrics
df_pred_stat_last  # prediction metrics
</code></pre>
<p>&nbsp;</p>
<p>I will store the initial baseline results in column INIT.</p>
<pre class="language-python"><code># In [65]:
df_model_stat_last, df_pred_stat_last = f_stat_all(HGBT_MODEL, d_test, 'INIT')</code></pre>
<p>I will take a look at the initial feature importance.</p>
<pre class="language-python"><code># In [68]:
# Feature importance
HGBT_MODEL.importance_.sort('IMPORTANCE', desc=True).collect()
</code></pre>
<p>Out [68]:</p>
<p>The top feature by importance is  <em>FUNCTIONALAREACHANGETYPE</em>.</p>
<h1><a id="cp06"></a>6. Training model with additional data</h1>
<p>Meanwhile, additional data has been provided; the shape of the data is consistent.</p>
<pre class="language-python"><code># In [19]:
df_data_add.shape, df_remote.shape # check rows and columns</code></pre>
<p>Out [19]:</p>
<p>((19115, 4), [19115, 43])</p>
<p>Joining of initial data with additional data.</p>
<pre class="language-python"><code># In [70]:
df_remote_new = df_remote.set_index(tab_id).join(df_remote_add.set_index(tab_id)) 
</code></pre>
<p>After fitting the model statistics are the following:</p>
<p>Out [75]:</p>
<table style="height: 178px;width: 333px" width="256">
<tbody>
<tr style="height: 42px">
<td style="height: 42px;width: 20px"><strong>1</strong></td>
<td style="height: 42px;width: 88px">RECALL</td>
<td style="height: 42px;width: 131px">0.979059515062454</td>
<td style="height: 42px;width: 52px">No</td>
</tr>
<tr style="height: 42px">
<td style="height: 42px;width: 20px"><strong>4</strong></td>
<td style="height: 42px;width: 88px">SUPPORT</td>
<td style="height: 42px;width: 131px">2722</td>
<td style="height: 42px;width: 52px">No</td>
</tr>
<tr style="height: 42px">
<td style="height: 42px;width: 20px"><strong>5</strong></td>
<td style="height: 42px;width: 88px">RECALL</td>
<td style="height: 42px;width: 131px">0.6101190476190477</td>
<td style="height: 42px;width: 52px">Yes</td>
</tr>
<tr style="height: 42px">
<td style="height: 42px;width: 20px"><strong>8</strong></td>
<td style="height: 42px;width: 88px">SUPPORT</td>
<td style="height: 42px;width: 131px">336</td>
<td style="height: 42px;width: 52px">Yes</td>
</tr>
</tbody>
</table>
<p>I observe that the <em>RECALL Yes</em> of model statistics increased to a good one 0.61.</p>
<p>Analyzing feature importance I observe that the top feature <em>HRTRAINING</em> comes from additional data.</p>
<pre class="language-abap"><code># Out [76]:
df_imp = HGBT_MODEL.importance_.sort('IMPORTANCE', desc=True).collect()</code></pre>
<p>Prediction statistics.</p>
<p>Out [78]:</p>
<table>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.9800235017626322</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>1702</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.5714285714285714</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p><em>RECALL Yes</em> of prediction statistics is 0.57 is acceptable and less than model statistics 0.61.</p>
<p>I conclude that predictions improve.</p>
<h1><a id="cp07"></a>7. Reducing the number of features</h1>
<p>Looking further into the data I notice dependent features by description and content.</p>
<pre class="language-python"><code># In [87]:
col_age_dep = ['AGE', 'AGE_GROUP5', 'AGE_GROUP10', 'GENERATION'] # age group

# In [90]:
col_imp_prev_loc = ['PREVIOUS_COUNTRY', 'PREVCOUNTRYLAT', 'PREVCOUNTRYLON', 'PREVIOUS_REGION'] # previous country group

# In [92]:
col_imp_curr_loc = ['CURRENT_REGION', 'CURRENT_COUNTRY', 'CURCOUNTRYLAT', 'CURCOUNTRYLON'] # current country group

# In [94:]
col_imp_tenure = ['TENURE_MONTHS','TENURE_INTERVAL_YEARS','TENURE_INTERVALL_DESC'] # tenure group
</code></pre>
<p>&nbsp;</p>
<p>From each group, I select the first top feature and fit again the model.</p>
<p><em>RECALL Yes</em> from prediction statistics improves to <em>0.61</em> from <em>0.57</em> which means that model performs better with only top features from groups.</p>
<pre class="language-python"><code># In [104]:
f_score_res(HGBT_MODEL, d_test[cols_imp])[1].collect()</code></pre>
<p>Out [104]:</p>
<table>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.9782608695652174</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>1702</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.6190476190476191</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>For countries, I prefer adjusted selection with top <em>PREVIOUS_COUNTRY, and CURRENT_COUNTRY</em>.</p>
<pre class="language-python"><code># In [110]:
# Reducing features with meaning preference
COL_IMP_PREVIOUS_COUNTRY_MEANING = ['PREVIOUS_COUNTRY','PREVCOUNTRYLAT', 'PREVCOUNTRYLON', 'PREVIOUS_REGION']
COL_IMP_CURRENT_REGION_MEANING = ['CURRENT_COUNTRY','CURRENT_REGION', 'CURCOUNTRYLAT', 'CURCOUNTRYLON']
</code></pre>
<p>Fitting with meaning preference.</p>
<pre class="language-python"><code># In [114]:
f_score_res(HGBT_MODEL, d_test[cols_imp_mn])[1].collect() # meaning preference
</code></pre>
<p>Prediction statistics.</p>
<p>Out [114]:</p>
<table>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.981198589894242</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>1702</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.6238095238095238</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>I observe that <em>RECALL Yes</em> is almost the same <em>0.62</em>.</p>
<h1><a id="cp08"></a>8. Balancing training data with SMOTE</h1>
<p>A quick introduction to imbalanced data you could find in the blog <a href="https://blogs.sap.com/2022/08/22/data-yoga-it-is-all-about-finding-the-right-balance/" >Data Yoga-It is all about finding the right balance</a>. For oversampling of minority <em>class Yes</em> I will use <a href="https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.06/en-US/hana_ml.algorithms.pal_algorithm.html?highlight=smote#hana_ml.algorithms.pal.preprocessing.SMOTE"  target="_blank" >SMOTE</a> (Synthetic minority over-sampling technique).</p>
<p>Checking class proportions from train data.</p>
<pre class="language-python"><code># In [124]:
f_class_count(d_train).collect()</code></pre>
<p>Out [124]:</p>
<table>
<tbody>
<tr>
<td><strong> </strong></td>
<td><strong>FLIGHT_RISK</strong></td>
<td><strong>Count</strong></td>
</tr>
<tr>
<td><strong>0</strong></td>
<td>No</td>
<td>13612</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>Yes</td>
<td>1680</td>
</tr>
</tbody>
</table>
<p>I know that classes are highly imbalanced and I want to find a way to fix this with SMOTE.</p>
<p>I wrapped the calculation of max SMOTE into a local function.</p>
<pre class="language-abap"><code># In [126]:
# return max smote amount
def f_smote_nmax(dfh):
</code></pre>
<p>The max SMOTE is 710.</p>
<p>Generating train data with max SMOTE to get balanced classes.</p>
<pre class="language-python"><code># In [129]:
d_train_sm = f_smote(d_train,f_smote_nmax(d_train)) # generate smote with max amount
</code></pre>
<p>Checking the proportions of the classes with max SMOTE.</p>
<pre class="language-python"><code># In [130]:
f_class_count(d_train_sm).collect() #check classes count for Majority No:Minority Yes = 1:1</code></pre>
<p>Out [130]:</p>
<table>
<tbody>
<tr>
<td><strong> </strong></td>
<td><strong>FLIGHT_RISK</strong></td>
<td><strong>Count</strong></td>
</tr>
<tr>
<td><strong>0</strong></td>
<td>No</td>
<td>13612</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>Yes</td>
<td>13608</td>
</tr>
</tbody>
</table>
<pre class="language-python"><code># In [134]:
# Fit with smote balanced No:Yes with all features
HGBT_MODEL=model_fit(d_train_sm)
</code></pre>
<p>Prediction statistics.</p>
<p>Out [137]:</p>
<table>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.945358401880141</td>
<td>No</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>F1_SCORE</td>
<td>0.9600238663484487</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>1702</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.8047619047619048</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p><em>RECALL Yes</em> jumps from <em>0.62</em> to <em>0.80</em>, which means SMOTE improves the model.</p>
<p>The fitting of the model with max SMOTE and important features.</p>
<pre class="language-python"><code># In [144]:
# Fit with smote balanced No:Yes with important features
HGBT_MODEL=model_fit(d_train_sm[cols_imp])
</code></pre>
<p>Prediction statistics</p>
<p>Out [146]:</p>
<table>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.9195064629847238</td>
<td>No</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>PRECISION</td>
<td>0.9726538222498446</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>1702</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.7904761904761904</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p><em>RECALL Yes</em> with important features and max SMOTE almost same 0.79</p>
<h1><a id="cp09"></a>9. Balancing test data and increasing training data</h1>
<p>I notice that <em>SUPPORT Yes  &lt;  SUPPORT No</em>. To fix it I will keep for test rows <em>SUPPORT No = SUPPORT Yes</em>. The rest of the <em>SUPPORT No</em> rows I will add to train data because I want to use precious data.</p>
<p>Balanced test data.</p>
<pre class="language-python"><code># In [164]:
f_class_count(d_test_bl).collect() # check test classes are balanced
</code></pre>
<p>Out [164]:</p>
<table>
<tbody>
<tr style="height: 14px">
<td style="width: 9.5375px;height: 14px"></td>
<td style="width: 106.012px;height: 14px"><strong>FLIGHT_RISK</strong></td>
<td style="width: 47.05px;height: 14px"><strong>Count</strong></td>
</tr>
<tr style="height: 14px">
<td style="width: 9.5375px;height: 14px"><strong>0</strong></td>
<td style="width: 106.012px;height: 14px">Yes</td>
<td style="width: 47.05px;height: 14px">210</td>
</tr>
<tr style="height: 14px">
<td style="width: 9.5375px;height: 14px"><strong>1</strong></td>
<td style="width: 106.012px;height: 14px">No</td>
<td style="width: 47.05px;height: 14px">210</td>
</tr>
</tbody>
</table>
<p>Increased rows of train data.</p>
<pre class="language-python"><code># In [166]:
d_train_target_count = f_class_count(d_train_bl) # added No from d_test that are not used (unseen)
d_train_target_count.collect()
</code></pre>
<p>Out [166]:</p>
<table>
<thead>
<tr style="height: 14px">
<td style="width: 9px;height: 14px"></td>
<td style="width: 106px;height: 14px"><strong>FLIGHT_RISK</strong></td>
<td style="width: 47px;height: 14px"><strong>Count</strong></td>
</tr>
</thead>
<tbody>
<tr style="height: 14px">
<td style="width: 9px;height: 14px"><strong>0</strong></td>
<td style="width: 106px;height: 14px">No</td>
<td style="width: 47px;height: 14px">15104</td>
</tr>
<tr style="height: 14px">
<td style="width: 9px;height: 14px"><strong>1</strong></td>
<td style="width: 106px;height: 14px">Yes</td>
<td style="width: 47px;height: 14px">1680</td>
</tr>
</tbody>
</table>
<p>Applying SMOTE to train data.</p>
<pre class="language-python"><code># In [168]:
f_class_count(d_train_bl_sm).collect() # #check classes count for Majority No:Minority Yes = 1:1
</code></pre>
<p>Out [168]:</p>
<table>
<thead>
<tr>
<td style="width: 9.15px"></td>
<td style="width: 102.863px"><strong>FLIGHT_RISK</strong></td>
<td style="width: 45.5875px"><strong>Count</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 9.15px"><strong>0</strong></td>
<td style="width: 102.863px">No</td>
<td style="width: 45.5875px">15104</td>
</tr>
<tr>
<td style="width: 9.15px"><strong>1</strong></td>
<td style="width: 102.863px">Yes</td>
<td style="width: 45.5875px">15103</td>
</tr>
</tbody>
</table>
<pre class="language-python"><code># In [171]:
# Fit with balanced d_train_bl_sm important features
HGBT_MODEL=model_fit(d_train_bl_sm[cols_imp])
</code></pre>
<p>Prediction statistics.</p>
<pre class="language-python"><code># In [173]:
f_score_res(HGBT_MODEL, d_test_bl[cols_imp])[1].collect()</code></pre>
<p>Out [173]:</p>
<table>
<thead>
<tr>
<td></td>
<td><strong>STAT_NAME</strong></td>
<td><strong>STAT_VALUE</strong></td>
<td><strong>CLASS_NAME</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>RECALL</td>
<td>0.919047619047619</td>
<td>No</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>PRECISION</td>
<td>0.8427947598253275</td>
<td>No</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>F1_SCORE</td>
<td>0.8792710706150342</td>
<td>No</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>No</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>RECALL</td>
<td>0.8285714285714286</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>PRECISION</td>
<td>0.9109947643979057</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>F1_SCORE</td>
<td>0.8678304239401496</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>SUPPORT</td>
<td>210</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>9</strong></td>
<td>ACCURACY</td>
<td>0.8738095238095238</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><em>RECALL Yes</em> has a small improvement to 0.82.</p>
<p><em>SUPPORT Yes = SUPPORT No</em> that means I can rely on all statistics. I notice that <em>ACCURACY</em> is <em>0.87</em> and that is a very good one.</p>
<h1><a id="cp10"></a>10. Finding top SMOTE</h1>
<p>I want to execute SMOTE with the step of 100 and analyze ACCURACY from prediction statistics.</p>
<pre class="language-python"><code># In [188]:
# SMOTE with steps
# fire on all cylinders
dict_models_smote, df_model_statistics_sm, df_predicted_statistics_sm = \
f_smote_models(d_train_bl, d_test_bl, cols_imp, 100)
ls_smote: [0, 100, 200, 300, 400, 500, 600, 700, 799]
</code></pre>
<p><span style="color: #0000ff">This is an intensive processing in the HANA ML cloud with <em>Wall time: 8min 34s.</em></span></p>
<p>Model statistics are collected in local pandas DataFrame.</p>
<pre class="language-python"><code># In [190]:
df_model_statistics_sm</code></pre>
<p>Prediction statistics are collected in the local pandas DataFrame.</p>
<pre class="language-python"><code># In [191]:
df_predicted_statistics_sm</code></pre>
<p>Selecting SMOTE for best prediction <em>ACCURACY </em>with local function.</p>
<pre class="language-python"><code># In [194]:
# SUPPORT Yes = SUPPORT No - ACCURACY reliable
f_accuracy_descending(df_predicted_statistics_sm)
</code></pre>
<p>Out [194]:<br />
STAT_NAME                   ACCURACY<br />
STAT_VALUE_700    0.8738095238095238<br />
STAT_VALUE_200    0.8666666666666667<br />
STAT_VALUE_500    0.8666666666666667<br />
STAT_VALUE_400    0.8642857142857143<br />
STAT_VALUE_600    0.8642857142857143<br />
STAT_VALUE_799    0.8642857142857143<br />
STAT_VALUE_300    0.8547619047619047<br />
STAT_VALUE_100    0.8523809523809524<br />
STAT_VALUE_0        0.7928571428571428</p>
<h1><a id="cp11"></a>11. Building top models</h1>
<p>I fit models with <span class="n"><em>smote_best_amount </em>adding the features one by one in order of importance.</span></p>
<pre class="language-python"><code># In [207]:
# FEATURES IMPORTANCE TOP n
# fire on all cylinders
def f_smote_model_top_f(p_d_train, p_cols_imp, p_d_test, p_smote_best_amount, p_cols_imp_start, p_cols_imp_step, p_verbosity):
# ...
   return lc_dict_models_top_f, lc_df_model_statistics, lc_df_predicted_statistics</code></pre>
<p>&nbsp;</p>
<pre class="language-python"><code># In [212]:
%%time
# FEATURES IMPORTANCE TOP n
# fire on all cylinders
dict_models_top_f, df_model_statistics_top_f, df_predicted_statistics_top_f = \
f_smote_model_top_f(d_train_bl, sm_best_cols_imp, d_test_bl, smote_best_amount, 1, 1, True)</code></pre>
<p><span style="color: #0000ff">This is very intensive processing in the HANA ML cloud with <em>Wall time: 21min 6s.</em></span></p>
<p>Relax and enjoy a cup of coffee or tea! 🙂</p>
<p>Selecting top features with top prediction <em>ACCURACY </em>with a local function.</p>
<pre class="language-python"><code># In [217]:
# SUPPORT Yes = SUPPORT No ACCURACY is reliable
f_accuracy_descending(df_predicted_statistics_top_f)[:10]
</code></pre>
<p>Out[217]<br />
STAT_NAME               ACCURACY<br />
STAT_VALUE_top15  0.8928571428571429<br />
STAT_VALUE_top6    0.888095238095238<br />
STAT_VALUE_top29  0.8857142857142857<br />
STAT_VALUE_top7    0.8833333333333333<br />
STAT_VALUE_top18  0.8833333333333333<br />
STAT_VALUE_top8    0.8833333333333333<br />
STAT_VALUE_top19  0.8833333333333333<br />
STAT_VALUE_top25  0.8809523809523809<br />
STAT_VALUE_top23  0.8761904761904762</p>
<p><span style="color: #008000"><strong>Great surprise, with the best SMOTE and best top15 features prediction ACCURACY increases to 0.89!</strong></span></p>
<p>I stored all models and other dependencies in the dictionary <em>dict_models_top_f</em> to access them easily.</p>
<pre class="language-python"><code># In [218]:
def f_sel_top_pred_acc(p_df,p_n):
    s =  f_accuracy_descending(p_df) # sorted series
    ls_s = s[:p_n+1].index.to_list() # sorted list with last n+1
    key = ls_s[-1] # last element
    model = dict_models_top_f[key][0]
    cols = dict_models_top_f[key][1]
    cols_len = dict_models_top_f[key][2]
    cols_name = dict_models_top_f[key][3]

    return [key, model, cols, cols_len, cols_name]</code></pre>
<p>&nbsp;</p>
<pre class="language-python"><code># In [219]:
# key, model, cols, cols_len, cols_name Top 1
top_1_imp_ls = f_sel_top_pred_acc(df_predicted_statistics_top_f,1)
top_1_imp_ls[0], top_1_imp_ls[1], top_1_imp_ls[2], top_1_imp_ls[3], top_1_imp_ls[4]</code></pre>
<p>Out [219]:</p>
<p>(&#8216;STAT_VALUE_top15&#8217;,<br />
<span style="color: #3366ff">&lt;hana_ml.algorithms.pal.unified_classification.UnifiedClassification at 0x25c02d19430&gt;,</span><br />
[&#8216;EMPLOYEE_ID&#8217;,<br />
&#8216;HRTRAINING&#8217;,<br />
&#8216;FUNCTIONALAREACHANGETYPE&#8217;,<br />
&#8216;SICKDAYS&#8217;,<br />
&#8216;PROMOTION_WITHIN_LAST_3_YEARS&#8217;,<br />
&#8216;TIMEINPREVPOSITIONMONTH&#8217;,<br />
&#8216;EMPLOYMENT_TYPE_2&#8217;,<br />
&#8216;PREVIOUS_CAREER_PATH&#8217;,<br />
&#8216;RISK_OF_LOSS&#8217;,<br />
&#8216;CURRENT_COUNTRY&#8217;,<br />
&#8216;SALARY&#8217;,<br />
&#8216;JOBLEVELCHANGETYPE&#8217;,<br />
&#8216;AGE&#8217;,<br />
&#8216;CHANGE_IN_PERFORMANCE_RATING&#8217;,<br />
&#8216;PREVIOUS_COUNTRY&#8217;,<br />
&#8216;LINKEDIN&#8217;,<br />
&#8216;FLIGHT_RISK&#8217;],<br />
17,<br />
&#8216;top15&#8217;)</p>
<p>Predictions statistics in Pandas DataFrame with results from subsequent steps.</p>
<pre class="language-python"><code># In Out[230]:
df_pred_stat_last</code></pre>
<div>
<div>
<div></div>
<div>
<div>
<div>Out[230]:</div>
<div data-mime-type="text/html">
<div>
<table class="dataframe" border="1">
<thead>
<tr>
<th></th>
<th>STAT_NAME</th>
<th>CLASS_NAME</th>
<th>INIT</th>
<th>ADD</th>
<th>cols_imp</th>
<th>cols_imp_mn</th>
<th>sm_max_cols_all</th>
<th>sm_max_cols_imp</th>
<th>sm_max_bl_cols_imp</th>
<th>sm_best_bl_cols_imp</th>
<th>top15</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>AUC</td>
<td>None</td>
<td>0.9733</td>
<td>0.9834</td>
<td>0.9857</td>
<td>0.9870</td>
<td>0.9784</td>
<td>0.9709</td>
<td>0.9422</td>
<td>0.9474</td>
<td>0.9498</td>
</tr>
<tr>
<th>1</th>
<td>RECALL</td>
<td>No</td>
<td>0.9964</td>
<td>0.9800</td>
<td>0.9782</td>
<td>0.9811</td>
<td>0.9453</td>
<td>0.9195</td>
<td>0.9190</td>
<td>0.9476</td>
<td>0.9380</td>
</tr>
<tr>
<th>2</th>
<td>PRECISION</td>
<td>No</td>
<td>0.9247</td>
<td>0.9488</td>
<td>0.9541</td>
<td>0.9548</td>
<td>0.9751</td>
<td>0.9726</td>
<td>0.8427</td>
<td>0.8257</td>
<td>0.8602</td>
</tr>
<tr>
<th>3</th>
<td>F1_SCORE</td>
<td>No</td>
<td>0.9592</td>
<td>0.9641</td>
<td>0.9660</td>
<td>0.9678</td>
<td>0.9600</td>
<td>0.9453</td>
<td>0.8792</td>
<td>0.8824</td>
<td>0.8974</td>
</tr>
<tr>
<th>4</th>
<td>SUPPORT</td>
<td>No</td>
<td>1702</td>
<td>1702</td>
<td>1702</td>
<td>1702</td>
<td>1702</td>
<td>1702</td>
<td>210</td>
<td>210</td>
<td>210</td>
</tr>
<tr>
<th>5</th>
<td>RECALL</td>
<td>Yes</td>
<td>0.3428</td>
<td>0.5714</td>
<td>0.6190</td>
<td>0.6238</td>
<td>0.8047</td>
<td>0.7904</td>
<td>0.8285</td>
<td>0.8</td>
<td>0.8476</td>
</tr>
<tr>
<th>6</th>
<td>PRECISION</td>
<td>Yes</td>
<td>0.9230</td>
<td>0.7792</td>
<td>0.7784</td>
<td>0.8036</td>
<td>0.6450</td>
<td>0.5478</td>
<td>0.9109</td>
<td>0.9385</td>
<td>0.9319</td>
</tr>
<tr>
<th>7</th>
<td>F1_SCORE</td>
<td>Yes</td>
<td>0.5000</td>
<td>0.6593</td>
<td>0.6896</td>
<td>0.7024</td>
<td>0.7161</td>
<td>0.6471</td>
<td>0.8678</td>
<td>0.8637</td>
<td>0.8877</td>
</tr>
<tr>
<th>8</th>
<td>SUPPORT</td>
<td>Yes</td>
<td>210</td>
<td>210</td>
<td>210</td>
<td>210</td>
<td>210</td>
<td>210</td>
<td>210</td>
<td>210</td>
<td>210</td>
</tr>
<tr>
<th>9</th>
<td>ACCURACY</td>
<td>None</td>
<td>0.9246</td>
<td>0.9351</td>
<td>0.9388</td>
<td>0.9419</td>
<td>0.9299</td>
<td>0.9053</td>
<td>0.8738</td>
<td>0.8738</td>
<td>0.8928</td>
</tr>
<tr>
<th>10</th>
<td>KAPPA</td>
<td>None</td>
<td>0.4683</td>
<td>0.6244</td>
<td>0.6562</td>
<td>0.6708</td>
<td>0.6766</td>
<td>0.5945</td>
<td>0.7476</td>
<td>0.7476</td>
<td>0.7857</td>
</tr>
<tr>
<th>11</th>
<td>MCC</td>
<td>None</td>
<td>0.5363</td>
<td>0.6336</td>
<td>0.6615</td>
<td>0.6774</td>
<td>0.6820</td>
<td>0.6079</td>
<td>0.7506</td>
<td>0.7559</td>
<td>0.7889</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div></div>
<div></div>
</div>
</div>
<h1><a id="cp12"></a>12. Analyzing top models</h1>
<p>First I analyze the top 1 reason for the top 1 model prediction.</p>
<p>&nbsp;</p>
<pre class="language-python"><code># In [233]:
# Top 1 contribution feauture to prediction
f_score_res(top_1_imp_ls[1], d_test_bl)[0].\
    select('EMPLOYEE_ID', 'SCORE', 'CONFIDENCE', 'REASON_CODE', 
                      ('json_query("REASON_CODE", \'$[0].attr\')', 'Top1'), 
                      ('json_query("REASON_CODE", \'$[0].pct\')', 'PCT_1') ).head(5).collect()
</code></pre>
<p>Out[233]:</p>
<table>
<thead>
<tr>
<td></td>
<td><strong>EMPLOYEE_ID</strong></td>
<td><strong>SCORE</strong></td>
<td><strong>CONFIDENCE</strong></td>
<td><strong>REASON_CODE</strong></td>
<td><strong>Top1</strong></td>
<td><strong>PCT_1</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td><strong>0</strong></td>
<td>10033</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
<td>&#8220;SICKDAYS&#8221;</td>
<td>28.49847521037374</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>10034</td>
<td>No</td>
<td>0.997572</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.1461261874013997,&#8230;</td>
<td>&#8220;SICKDAYS&#8221;</td>
<td>28.604720941656255</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>10036</td>
<td>Yes</td>
<td>0.884731</td>
<td>[{&#8220;attr&#8221;:&#8221;HRTRAINING&#8221;,&#8221;val&#8221;:1.2600622007181038&#8230;</td>
<td>&#8220;HRTRAINING&#8221;</td>
<td>17.883981590687534</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>10056</td>
<td>Yes</td>
<td>0.992384</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:3.2852997983870959,&#8221;&#8230;</td>
<td>&#8220;SICKDAYS&#8221;</td>
<td>30.97615277828276</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>10064</td>
<td>No</td>
<td>0.985765</td>
<td>[{&#8220;attr&#8221;:&#8221;HRTRAINING&#8221;,&#8221;val&#8221;:-1.738132753015509&#8230;</td>
<td>&#8220;HRTRAINING&#8221;</td>
<td>27.416934166112573</td>
</tr>
</tbody>
</table>
<p>I can compare test data FLIGHT_RISK (actual) with prediction SCORE.</p>
<pre class="language-python"><code># In [236]:
print(f"Top 1 voting with features {top_1_imp_ls[4]}") # Top 1 voting
f_actual_vs_score(top_1_imp_ls[1], d_test_bl).head(5).collect()

</code></pre>
<p>Top 1 model (top15 features ) prediction and top 1 reason code.</p>
<p>Out [236]:</p>
<table>
<thead>
<tr>
<td></td>
<td><strong>EMPLOYEE_ID</strong></td>
<td><strong>FLIGHT_RISK</strong></td>
<td><strong>SCORE</strong></td>
<td><strong>CONFIDENCE</strong></td>
<td><strong>REASON_CODE</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td><strong>0</strong></td>
<td>10033</td>
<td>No</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>10034</td>
<td>No</td>
<td>No</td>
<td>0.997572</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.1461261874013997,&#8230;</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>10036</td>
<td>Yes</td>
<td>Yes</td>
<td>0.884731</td>
<td>[{&#8220;attr&#8221;:&#8221;HRTRAINING&#8221;,&#8221;val&#8221;:1.2600622007181038&#8230;</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>10056</td>
<td>Yes</td>
<td>Yes</td>
<td>0.992384</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:3.2852997983870959,&#8221;&#8230;</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>10064</td>
<td>No</td>
<td>No</td>
<td>0.985765</td>
<td>[{&#8220;attr&#8221;:&#8221;HRTRAINING&#8221;,&#8221;val&#8221;:-1.738132753015509&#8230;</td>
</tr>
</tbody>
</table>
<p>I can analyze further top 5 REASON_CODE with code wrapped in a local function.</p>
<pre class="language-python"><code># In [240]:
# Top 5 contribution feauture to prediction for rows
def f_contrib_top5f_head(p_model, p_d_test, p_rows):
</code></pre>
<pre class="language-python"><code># In [241]:
f_contrib_top5f_head(top_1_imp_ls[1], d_test_bl, 3)</code></pre>
<p>Out [241]:</p>
<table>
<thead>
<tr>
<td></td>
<td><strong>EMPLOYEE_ID</strong></td>
<td><strong>SCORE</strong></td>
<td><strong>CONFIDENCE</strong></td>
<td><strong>REASON_CODE</strong></td>
<td><strong>Top</strong></td>
<td><strong>PCT</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td><strong>0</strong></td>
<td>10033</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
<td>&#8220;SICKDAYS&#8221;</td>
<td>28.49847521037374</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>10033</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
<td>&#8220;HRTRAINING&#8221;</td>
<td>20.004226264298525</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>10033</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
<td>&#8220;PREVIOUS_CAREER_PATH&#8221;</td>
<td>13.468698519836725</td>
</tr>
<tr>
<td><strong>9</strong></td>
<td>10033</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
<td>&#8220;LINKEDIN&#8221;</td>
<td>6.355941761599763</td>
</tr>
<tr>
<td><strong>12</strong></td>
<td>10033</td>
<td>No</td>
<td>0.998697</td>
<td>[{&#8220;attr&#8221;:&#8221;SICKDAYS&#8221;,&#8221;val&#8221;:-2.3005012586457966,&#8230;</td>
<td>&#8220;FUNCTIONALAREACHANGETYPE&#8221;</td>
<td>6.23681257187179</td>
</tr>
</tbody>
</table>
<h1><a id="cp13"></a>13. Visualizing statistics</h1>
<p>Presenting model results with Visualizing Model Report as explained in the <a href="https://blogs.sap.com/2022/08/03/azure-machine-learning-triggering-calculations-ml-in-sap-data-warehouse-cloud/" >blog &#8220;ML in SAP Data Warehouse Cloud&#8221;</a>.</p>
<pre class="language-python"><code># In [243]:
from hana_ml.visualizers.unified_report import UnifiedReport
UnifiedReport(top_1_imp_ls[1]).build().display()
</code></pre>
<p>&nbsp;</p>
<p style="overflow: hidden;margin-bottom: 0px"><img class="aligncenter ds-lightbox__img" decoding="async" src="https://blogs.sap.com/wp-content/uploads/2023/01/model_report.jpg" alt="Variable%20Importance" data-index="1" data-id="plbox-1676502" /></p>
<p class="image_caption" style="text-align: center;font-style: italic">Variable Importance</p>
<p>&nbsp;</p>
<p>I can analyze the contributions of features with <em>shapely_explainer as </em>presented in the <a href="https://pypi.org/project/hana-ml/"  target="_blank" >library example</a>.</p>
<pre class="language-abap"><code># In [257]:
shapley_explainer = TreeModelDebriefing.shapley_explainer(feature_data=d_test_bl.head(500).select(features_shapely),
reason_code_data=pred_res_shapely.head(500).select('REASON_CODE'))
shapley_explainer.summary_plot()
</code></pre>
<p>&nbsp;</p>
<p style="overflow: hidden;margin-bottom: 0px"><img class="aligncenter ds-lightbox__img" decoding="async" src="https://blogs.sap.com/wp-content/uploads/2023/01/shapely_explainer.png" alt="Shapley%20explainer" data-index="2" data-id="plbox-1676502" /></p>
<p class="image_caption" style="text-align: center;font-style: italic">Shapley explainer</p>
<p>Confusion matrix for validation data from model training as explained in the <a href="https://github.com/SAP-samples/hana-ml-samples/blob/main/Python-API/usecase-examples/sapcommunity-hanaml-challenge/PAL%20Tutorial%20-%20Unified%20Classification%20Hybrid%20Gradient%20Boosting%20-%20PredictiveQuality%20Example.ipynb"  target="_blank" >tutorial on GitHub</a>.</p>
<pre class="language-python"><code>In [244]:
import matplotlib.pyplot as plt
from hana_ml.visualizers.metrics import MetricsVisualizer
f, ax1 = plt.subplots(1,1)
mv1 = MetricsVisualizer(ax1, title = 'Modedl confusion matrix')
ax1 = mv1.plot_confusion_matrix(top_1_imp_ls[1].confusion_matrix_, normalize=False)</code></pre>
<p>&nbsp;</p>
<p style="text-align: center"><strong>Model confusion matrix</strong></p>
<p style="overflow: hidden;margin-bottom: 0px"><img class="aligncenter ds-lightbox__img" decoding="async" loading="lazy" src="https://blogs.sap.com/wp-content/uploads/2023/01/model_confusion-matrix_num.jpg" alt="Model%20confusion%20matrix" width="567" height="438" data-index="3" data-id="plbox-1676502" /></p>
<p class="image_caption" style="text-align: center;font-style: italic">Model confusion matrix</p>
<pre class="language-python"><code># In [245]:
f, ax1 = plt.subplots(1,1)
mv1 = MetricsVisualizer(ax1, title = 'Model confusion matrix %')
ax1 = mv1.plot_confusion_matrix(top_1_imp_ls[1].confusion_matrix_, normalize=True)</code></pre>
<p style="overflow: hidden;margin-bottom: 0px"><img class="aligncenter ds-lightbox__img" decoding="async" src="https://blogs.sap.com/wp-content/uploads/2023/01/model_confusion-matrix.png" alt="Model%20confusion%20matrix" data-index="4" data-id="plbox-1676502" /></p>
<p class="image_caption" style="text-align: center;font-style: italic">Model confusion matrix</p>
<p>Confusion matrix for predictions wrapped in local functions.</p>
<pre class="language-python"><code># In [259]:
def f_cf_mx_values(p_model, p_d_test):
</code></pre>
<pre class="language-python"><code># In [267]:
sns.heatmap(cf_matrix, annot=labels, fmt='', cmap='Blues')
</code></pre>
<p style="overflow: hidden;margin-bottom: 0px"><img class="aligncenter ds-lightbox__img" decoding="async" src="https://blogs.sap.com/wp-content/uploads/2023/01/prediction_confusion_matrix.png" alt="Prediction%20confusion%20matrix" data-index="5" data-id="plbox-1676502" /></p>
<p style="text-align: center"><em>Prediction confusion matrix</em></p>
<p>&nbsp;</p>
<h1><a id="cp14"></a>14. Further steps</h1>
<p>Regarding to further models exploring I could use as starting point Automated Predictive Libraries <a href="https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.06/en-US/hana_ml.algorithms.apl.html#apl-gb-classification-label"  target="_blank" >GradientBoostingBinaryClassifier,</a> tutorial <a href="https://github.com/SAP-samples/hana-ml-samples/tree/main/Python-API/usecase-examples/fraud-detection"  target="_blank" >Fraud Detection Auto ML Script</a>, blog <a href="https://blogs.sap.com/2020/07/27/hands-on-tutorial-automated-predictive-apl-in-sap-hana-cloud/" >Hands-On Tutorial: Automated Predictive (APL) in SAP HANA Cloud</a> and blog <a href="https://blogs.sap.com/2022/12/14/sap-hana-cloud-machine-learning-challenge-preventing-employee-churn/" >SAP HANA Cloud Machine Learning Challenge</a>. I would increase the test data percentage from split and use ensemble techniques for voting.</p>
<p>Thinking in terms of <a href="https://en.wikipedia.org/wiki/Transfer_learning"  target="_blank" >transfer learning</a> as in computer vision, what if we can collect data across different companies and industries, build specialized or generalized models, shake hands with developers, and integrate prediction in applications to use internally or externally as on demand service. Data required for monthly evaluation could be collected from internal sources and external sources with coded extractors or scraping tools.</p>
<p><span class="normaltextrun"><span style="font-family: 'Avenir Book',sans-serif;color: black">Since I am an end-to-end developer of Business Intelligence reports, I am looking forward to getting hands-on experience regarding how to integrate extraction of data from an SAP environment or other external sources to build models, consume machine learning models, and integrate prediction into the business apps.</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
    </div>
  </div>
  <div class="ds-blog-post__social-side-bar">
    <div class="ds-sticky-on-scroll ">
      <div class="ds-sticky-on-scroll__wrapper  ">
        <div class="ds-sticky-on-scroll__content">
          <div class="ds-blog-post__social-actions">
            <button class="sap-button-follow ds-button ds-button--primary ds-blog-post__social-action ds-blog-post__social-action--follow" id="sap-button-follow-hdr-id" onclick="location.href='https://blogs.sap.com/wp-login.php?redirect_to=https%3A%2F%2Fblogs.sap.com%2F2023%2F01%2F09%2Fsap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics%2F%3Fs_action%3Dss_change_follow_status%26nonce%3D2a2f74229e'" rel="IDS_login"  type="button" data-content-type="blogpost" data-content-id="1676502" data-nonce="2a2f74229e" title="Please log into the system to use follow/unfollow functionality."><span class="ds-button-text">Follow</span></button>            <button type='button' class='ds-button ds-button--secondary ds-button--icon-button ds-blog-post__social-action likes-post-link dolike ' rel='IDS_login' onclick="location.href='https://blogs.sap.com/wp-login.php?redirect_to=https%3A%2F%2Fblogs.sap.com%2F2023%2F01%2F09%2Fsap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics%2F%3Fs_action%3Dss_change_like_status%26nonce%3Dd6a76dc03c'" title='Like' data-nonce='d6a76dc03c' data-post-id='1676502'><i class='ds-icon ds-icon--likes-outline ds-icon--regular ds-m-r-xs' tabindex='-1'></i><span class='ds-button-text'>Like</span></button>            <button type="button" class="ds-button ds-button--secondary ds-button--icon-button ds-blog-post__social-action" title="RSS Feed" onclick="location.href='https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/feed/'">
              <i class="ds-icon ds-icon--rss-feed ds-icon--regular ds-m-r-xs" tabindex="-1"></i>RSS Feed
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
            <div class="ds-blog-post__social-row">
              <div class="ds-blog-post__social-icons">
                <a href='https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblogs.sap.com%2F2023%2F01%2F09%2Fsap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics%2F' title='Share on Facebook' target='_blank'><span class='ds-social-icon ds-social-icon--dark-facebook'></span></a><a href='https://twitter.com/share?url=https%3A%2F%2Fblogs.sap.com%2F2023%2F01%2F09%2Fsap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics%2F&text=SAP+HANA+Cloud+Machine+Learning+Challenge+%E2%80%9CI+quit%21%E2%80%9D+%E2%80%93+understanding+metrics' title='Share on Twitter' target='_blank'><span class='ds-social-icon ds-social-icon--dark-twitter'></span></a><a href='https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fblogs.sap.com%2F2023%2F01%2F09%2Fsap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics%2F&title=SAP+HANA+Cloud+Machine+Learning+Challenge+%E2%80%9CI+quit%21%E2%80%9D+%E2%80%93+understanding+metrics' title='Share on LinkedIn' target='_blank'><span class='ds-social-icon ds-social-icon--dark-linkedin'></span></a>              </div>
              <div class='ds-tooltip__wrapper'>
    <div class='ds-tooltip__anchor'>
    <button
      type="button"
      class="ds-button ds-button--secondary ds-blog-post__alert-moderator-button ds-button--disabled"
      aria-label="Alert Moderator"
      data-toggle="collapse"
      data-hide-class="ds-collapse"
      data-triggers=".alertModerator"
      aria-expanded="false">Alert Moderator
    </button>
    </div>
    <div role='tooltip' class='ds-tooltip ds-tooltip--bottom'>Alerting is not available for unauthorized users</div>
</div>
            </div>
            
  <div class="wprc-content-v3">
    <div class="ds-blog-post-form ds-blog-post__alert-moderator-form ds-collapse alertModerator wprc-form-v3" data-toggle="collapseComponent" data-name="alertModerator">
          </div>
  </div>
          </div>
          <div class="ds-blog-post__right-side-bar ds-flexCol-sm-12 ds-flexCol-md-3">
            <div id="sapassignedtagswidget-v3-2" class="ds-side-bar-widget ds-assigned-tags ds-m-b-l"><h3 class="ds-side-bar-widget__heading">Assigned Tags</h3></div><div id="sap-relatedcontent-widget-v3-2" class="ds-side-bar-widget widget_sap-relatedcontent-widget-v3"><button type="button" class="ds-side-bar-widget__heading ds-side-bar-widget__heading--collapsible" aria-expanded="true">Similar Blog Posts<i class="ds-icon ds-icon--arrow-up ds-icon--big" tabindex="-1"></i></button><div class="ds-side-bar-widget__content"><ul class="ds-relatedContent ds-relatedContent__list" data-types="blogpost" data-limit="3"></ul></div></div><div id="sap-relatedcontent-widget-v3-3" class="ds-side-bar-widget widget_sap-relatedcontent-widget-v3"><button type="button" class="ds-side-bar-widget__heading ds-side-bar-widget__heading--collapsible" aria-expanded="true">Related Questions<i class="ds-icon ds-icon--arrow-up ds-icon--big" tabindex="-1"></i></button><div class="ds-side-bar-widget__content"><ul class="ds-relatedContent ds-relatedContent__list" data-types="question" data-limit="3"></ul></div></div>          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div id="content-lightbox-modal"aria-modal="true" aria-label="Lightbox gallery opened" role="dialog" tabindex="-1" class="ds-lightbox" data-id="plbox-1676502"><div class="ds-lightbox__box"><div class="ds-lightbox__slideNumber"><span class="ds-lightbox__slideNumber--current"></span>/<span class="ds-lightbox__slideNumber--total"></span></div><div class="ds-lightbox__header"><a href="javascript:void(0);" data-id="plbox-1676502" class="ds-lightbox__headerIcon ds-icon-encoded--close" aria-label="Close lightbox"></a></div><div class="ds-lightbox__content--scrollable ds-lightbox__content"><div class="ds-lightbox__slide"><img class="ds-lightbox__slide--img" src="https://blogs.sap.com/wp-content/uploads/2023/01/model_report.jpg" alt="Variable%20Importance"/></div><div class="ds-lightbox__slide"><img class="ds-lightbox__slide--img" src="https://blogs.sap.com/wp-content/uploads/2023/01/shapely_explainer.png" alt="Shapley%20explainer"/></div><div class="ds-lightbox__slide"><img class="ds-lightbox__slide--img" src="https://blogs.sap.com/wp-content/uploads/2023/01/model_confusion-matrix_num.jpg" alt="Model%20confusion%20matrix"/></div><div class="ds-lightbox__slide"><img class="ds-lightbox__slide--img" src="https://blogs.sap.com/wp-content/uploads/2023/01/model_confusion-matrix.png" alt="Model%20confusion%20matrix"/></div><div class="ds-lightbox__slide"><img class="ds-lightbox__slide--img" src="https://blogs.sap.com/wp-content/uploads/2023/01/prediction_confusion_matrix.png" alt="Prediction%20confusion%20matrix"/></div><a class="lightbox-gallery-button--prev ds-lightbox__gallery-button ds-icon ds-icon--arrow-left" href="javascript:void(0);" aria-label="Show previous image"></a><a class="ds-lightbox__gallery-button lightbox-gallery-button--next ds-icon ds-icon--arrow-right" href="javascript:void(0);" aria-label="Show next image"></a></div><div class="zoom-buttons"><a class="ds-lightbox__zoom-out" href="javascript:void(0);" aria-label="Enter to zoom out"><i class="ds-icon ds-icon--minus"></i></a><a class="ds-lightbox__zoom-in" href="javascript:void(0);" aria-label="Enter to zoom in"><i class="ds-icon ds-icon--plus"></i></a></div></div></div>
  <div class="ds-blog-post__comment-section">
    <div class="ds-flexGrid">
      <div class="ds-flexRow">
        <div class="ds-flexCol-12 ds-flexCol-md-10 ds-flexCol-lg-10">
          
<div id="comments" class="ds-blog-post-comments">
  
      <div class="ds-blog-post-comments__counter" title="Number of Comments">
      4 Comments      </div>
              <div class="dm-section dm-align-center dm-section-header__title" title="Please log on to comment" aria-role="alert">
                You must be <a href="https://blogs.sap.com/wp-login.php?redirect_to=2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics" class="opener js-idspopup" rel="IDS_login" title="Log On">Logged on</a> to comment or reply to a post.
        </div>
      
    <div class="ds-blog-post-comments__list">
              <div class="comment byuser comment-author-fazam even thread-even depth-1 ds-blog-post-comment" id="li-comment-655025">
        <div id="comment-655025" class="ds-blog-post-comment__wrapper">
                    <div class="ds-blog-post-comment__header">
              <a class="ds-blog-post-comment__avatar" target="_blank" rel="noopener noreferrer" href="https://people.sap.com/fazam">
                <img alt='Author&#039;s profile photo Farooq Azam' src='https://avatars.services.sap.com/images/fazam_small.png' class='avatar avatar-48 photo ds-avatar-component ds-avatar-component--small' height='48' width='48' />              </a>
              <div class="ds-blog-post-comment__meta-info">
                <div class="ds-user ds-blog-post-comment__author">
                  <a target='_blank' aria-label='Author name Farooq Azam' href='https://people.sap.com/fazam' rel='external nofollow' class='ds-link ds-user__name ' >Farooq Azam</a>  <div class="ds-user__roles"><i class="ds-user__role ds-user__role--employee" title="This user is an SAP Employee" data-role-name="SAP Employee"></i></div>                </div>
                <span class="ds-blog-post-comment__date"><time datetime="2023-01-09T17:16:30+00:00"
                >January 9, 2023 at 5:16 pm</time></span>
              </div>
            </div>

            <div class="ds-blog-post-comment__body">
              <div class="ds-blog-post-comment__content ds-editor-content">
                <p>Hi Sergiu,</p>
<p>&nbsp;</p>
<p>Great work and write up. Very detailed and informative!</p>
<p>Thanks for sharing.</p>
<p>&nbsp;</p>
<p>Regards,</p>
<p>Farooq</p>
              </div>

            <div id="comment-actions-655025" class="comment-actions ds-blog-post-comment__actions">
                <ul class="ds-content-actionbar ds-actionbar--links" role="menubar" aria-label="action menu">
                    <!-- render like, reply, edit, delete links -->
                    <li class='ds-content-actionbar__item'><span class='ds-link ds-button--link ds-content-actionbar__link ds-button--disabled'><div class="ds-button__inner-container " id="nbLikeComment_655025" tabindex="-1">Like 2</span></span></li><li class='ds-content-actionbar__item'><div class='ds-tooltip__wrapper'><div class='ds-tooltip__anchor'><a class='ds-link ds-button--link ds-content-actionbar__link'  href='https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/#comment-655025'>Share</a></div><div role='tooltip' class='ds-tooltip ds-tooltip--bottom'>Right click and copy the link to share this comment</div></div></li>                </ul>
                <div class="ds-actionbar--forms"></div>
            </div>
          </div>
        </div>
            <div class="ds-blog-post-comment__comments">
    <div class="comment byuser comment-author-sergiuiatco bypostauthor odd alt depth-2 ds-blog-post-comment" id="li-comment-657347">
        <div id="comment-657347" class="ds-blog-post-comment__wrapper">
                    <div class="ds-blog-post-comment__header">
              <a class="ds-blog-post-comment__avatar" target="_blank" rel="noopener noreferrer" href="https://people.sap.com/sergiu.iatco">
                <img alt='Author&#039;s profile photo Sergiu Iatco' src='https://avatars.services.sap.com/images/sergiu.iatco_small.png' class='avatar avatar-48 photo ds-avatar-component ds-avatar-component--small' height='48' width='48' />              </a>
              <div class="ds-blog-post-comment__meta-info">
                <div class="ds-user ds-blog-post-comment__author">
                  <a target='_blank' aria-label='Author name Sergiu Iatco' href='https://people.sap.com/sergiu.iatco' rel='external nofollow' class='ds-link ds-user__name ' >Sergiu Iatco</a> <div class="ds-user__note">Blog Post Author</div>                 </div>
                <span class="ds-blog-post-comment__date"><time datetime="2023-01-26T17:18:40+00:00"
                >January 26, 2023 at 5:18 pm</time></span>
              </div>
            </div>

            <div class="ds-blog-post-comment__body">
              <div class="ds-blog-post-comment__content ds-editor-content">
                <p>Thanks a lot, Farooq!</p>
              </div>

            <div id="comment-actions-657347" class="comment-actions ds-blog-post-comment__actions">
                <ul class="ds-content-actionbar ds-actionbar--links" role="menubar" aria-label="action menu">
                    <!-- render like, reply, edit, delete links -->
                    <li class='ds-content-actionbar__item'><span class='ds-link ds-button--link ds-content-actionbar__link ds-button--disabled'><div class="ds-button__inner-container " id="nbLikeComment_657347" tabindex="-1">Like 0</span></span></li><li class='ds-content-actionbar__item'><div class='ds-tooltip__wrapper'><div class='ds-tooltip__anchor'><a class='ds-link ds-button--link ds-content-actionbar__link'  href='https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/#comment-657347'>Share</a></div><div role='tooltip' class='ds-tooltip ds-tooltip--bottom'>Right click and copy the link to share this comment</div></div></li>                </ul>
                <div class="ds-actionbar--forms"></div>
            </div>
          </div>
        </div>
            </div><!-- #comment-## -->
</div><!-- .children -->
</div><!-- #comment-## -->
    <div class="comment byuser comment-author-mynynachau even thread-odd thread-alt depth-1 ds-blog-post-comment" id="li-comment-655286">
        <div id="comment-655286" class="ds-blog-post-comment__wrapper">
                    <div class="ds-blog-post-comment__header">
              <a class="ds-blog-post-comment__avatar" target="_blank" rel="noopener noreferrer" href="https://people.sap.com/mynyna.chau">
                <img alt='Author&#039;s profile photo Mynyna Chau' src='https://avatars.services.sap.com/images/mynyna.chau_small.png' class='avatar avatar-48 photo ds-avatar-component ds-avatar-component--small' height='48' width='48' />              </a>
              <div class="ds-blog-post-comment__meta-info">
                <div class="ds-user ds-blog-post-comment__author">
                  <a target='_blank' aria-label='Author name Mynyna Chau' href='https://people.sap.com/mynyna.chau' rel='external nofollow' class='ds-link ds-user__name ' >Mynyna Chau</a>  <div class="ds-user__roles"><i class="ds-user__role ds-user__role--employee" title="This user is an SAP Employee" data-role-name="SAP Employee"></i><i class="ds-user__role ds-user__role--moderator" title="This user is an SAP Moderator" data-role-name="Moderator"></i></div>                </div>
                <span class="ds-blog-post-comment__date"><time datetime="2023-01-11T08:59:28+00:00"
                >January 11, 2023 at 8:59 am</time></span>
              </div>
            </div>

            <div class="ds-blog-post-comment__body">
              <div class="ds-blog-post-comment__content ds-editor-content">
                <p>Congrats on the 2nd place, <a href="https://people.sap.com/sergiu.iatco" target="_blank" rel="noopener nofollow ugc">Sergiu Iatco</a> !</p>
              </div>

            <div id="comment-actions-655286" class="comment-actions ds-blog-post-comment__actions">
                <ul class="ds-content-actionbar ds-actionbar--links" role="menubar" aria-label="action menu">
                    <!-- render like, reply, edit, delete links -->
                    <li class='ds-content-actionbar__item'><span class='ds-link ds-button--link ds-content-actionbar__link ds-button--disabled'><div class="ds-button__inner-container " id="nbLikeComment_655286" tabindex="-1">Like 1</span></span></li><li class='ds-content-actionbar__item'><div class='ds-tooltip__wrapper'><div class='ds-tooltip__anchor'><a class='ds-link ds-button--link ds-content-actionbar__link'  href='https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/#comment-655286'>Share</a></div><div role='tooltip' class='ds-tooltip ds-tooltip--bottom'>Right click and copy the link to share this comment</div></div></li>                </ul>
                <div class="ds-actionbar--forms"></div>
            </div>
          </div>
        </div>
            <div class="ds-blog-post-comment__comments">
    <div class="comment byuser comment-author-sergiuiatco bypostauthor odd alt depth-2 ds-blog-post-comment" id="li-comment-657348">
        <div id="comment-657348" class="ds-blog-post-comment__wrapper">
                    <div class="ds-blog-post-comment__header">
              <a class="ds-blog-post-comment__avatar" target="_blank" rel="noopener noreferrer" href="https://people.sap.com/sergiu.iatco">
                <img alt='Author&#039;s profile photo Sergiu Iatco' src='https://avatars.services.sap.com/images/sergiu.iatco_small.png' class='avatar avatar-48 photo ds-avatar-component ds-avatar-component--small' height='48' width='48' />              </a>
              <div class="ds-blog-post-comment__meta-info">
                <div class="ds-user ds-blog-post-comment__author">
                  <a target='_blank' aria-label='Author name Sergiu Iatco' href='https://people.sap.com/sergiu.iatco' rel='external nofollow' class='ds-link ds-user__name ' >Sergiu Iatco</a> <div class="ds-user__note">Blog Post Author</div>                 </div>
                <span class="ds-blog-post-comment__date"><time datetime="2023-01-26T17:20:01+00:00"
                >January 26, 2023 at 5:20 pm</time></span>
              </div>
            </div>

            <div class="ds-blog-post-comment__body">
              <div class="ds-blog-post-comment__content ds-editor-content">
                <p>Thanks a lot, Mynyna!</p>
              </div>

            <div id="comment-actions-657348" class="comment-actions ds-blog-post-comment__actions">
                <ul class="ds-content-actionbar ds-actionbar--links" role="menubar" aria-label="action menu">
                    <!-- render like, reply, edit, delete links -->
                    <li class='ds-content-actionbar__item'><span class='ds-link ds-button--link ds-content-actionbar__link ds-button--disabled'><div class="ds-button__inner-container " id="nbLikeComment_657348" tabindex="-1">Like 0</span></span></li><li class='ds-content-actionbar__item'><div class='ds-tooltip__wrapper'><div class='ds-tooltip__anchor'><a class='ds-link ds-button--link ds-content-actionbar__link'  href='https://blogs.sap.com/2023/01/09/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics/#comment-657348'>Share</a></div><div role='tooltip' class='ds-tooltip ds-tooltip--bottom'>Right click and copy the link to share this comment</div></div></li>                </ul>
                <div class="ds-actionbar--forms"></div>
            </div>
          </div>
        </div>
            </div><!-- #comment-## -->
</div><!-- .children -->
</div><!-- #comment-## -->

      
        </div> <!-- main comments content area -->

    
            
</div>
        </div>
      </div>
    </div>
  </div>
</div>

                </div> <!-- #main -->
                <div id="shared_footer" class="dm-container dm-wrapper">
                    <footer class="dm-footer">
    <div class="dm-footer__inner-wrapper">
        <div class="dm-socialmedia">
            <h5 class="dm-socialmedia__headline" id="hl-sharefollow">Find us on</h5>
            <ul class="dm-socialmedia__links" aria-labelledby="hl-sharefollow">
                <li><a href="https://www.facebook.com/sapcommunity" title="Facebook"><span class="dm-icon-encoded--facebook"></span></a></li>
                <li><a href="https://twitter.com/SAPCommunity" title="Twitter"><span class="dm-icon-encoded--twitter"></span></a></li>
                <li><a href="https://www.youtube.com/c/SAPCommunities" title="YouTube"><span class="dm-icon-encoded--youtube"></span></a></li>
                <li><a href="https://www.linkedin.com/company/sap" title="LinkedIn"><span class="dm-icon-encoded--linkedin"></span></a></li>
                <li><a href="https://instagram.com/sap/" title="Instagram"><span class="dm-icon-encoded--instagram"></span></a></li>
                <li><a href="http://www.slideshare.net/SAP" title="Slideshare"><span class="dm-icon-encoded--slideshare"></span></a></li>
                <li><a href="mailto:?subject='SAP Community'" title="Email Share"><span class="dm-icon-encoded--email"></span></a></li>
            </ul>
        </div>
        <nav role="navigation" class="dm-footer__navigation">
            <ul class="dm-footer__navigation__list" aria-label="footer navigation">
                <li><a href="https://community.sap.com/resources/sap-community-privacy-statement" target="_blank">Privacy</a></li>
                <li><a href="http://sap.com/corporate/en/legal/terms-of-use.html" target="_blank">Terms of Use</a></li>
                <li><a href="http://sap.com/about/legal/impressum.html" target="_blank">Legal Disclosure</a></li>
                <li><a href="http://sap.com/about/legal/copyright.html" target="_blank">Copyright</a></li>
                <li><a href="http://sap.com/about/legal/trademark.html" target="_blank">Trademark</a></li>
                <li id="teconsent"></li>
                <li><a href="https://www.sap.com/cmp/nl/sap-community-voice/index.html" target="_blank">Newsletter</a></li>
                <li><a href="https://community.sap.com/support" target="_blank">Support</a></li>
            </ul>
        </nav>
    </div>
</footer>                </div>
            </div> <!-- #page -->
            <script type="application/ld+json" data-schema="1676502-post-Default">{"@context":"https:\/\/schema.org\/","@type":"BlogPosting","@id":"https:\/\/blogs.sap.com\/2023\/01\/09\/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics\/#BlogPosting","mainEntityOfPage":"https:\/\/blogs.sap.com\/2023\/01\/09\/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics\/","headline":"SAP HANA Cloud Machine Learning Challenge &#8220;I quit!&#8221; &#8211; understanding metrics","name":"SAP HANA Cloud Machine Learning Challenge &#8220;I quit!&#8221; &#8211; understanding metrics","description":"Author: Sergiu Iatco\u00a0 I participated in the SAP HANA ML Challenge &#8211; Employee Churn \ud83e\udd16 and I came in second place \ud83c\udfc6. I would like to thank the entire SAP expert team for the initiative [&hellip;]","datePublished":"2023-01-09","dateModified":"2023-04-19","author":{"@type":"Person","@id":"https:\/\/blogs.sap.com\/author\/sergiu.iatco\/#Person","name":"Sergiu Iatco","url":"https:\/\/blogs.sap.com\/author\/sergiu.iatco\/","image":{"@type":"ImageObject","@id":"https:\/\/avatars.services.sap.com\/images\/sergiu.iatco_small.png","url":"https:\/\/avatars.services.sap.com\/images\/sergiu.iatco_small.png","height":96,"width":96}},"publisher":{"@type":"Organization","name":"SAP Community Blogs","logo":{"@type":"ImageObject","@id":"https:\/\/blogs.sap.com\/wp-content\/uploads\/2020\/03\/SAP_scrn_R-2.png","url":"https:\/\/blogs.sap.com\/wp-content\/uploads\/2020\/03\/SAP_scrn_R-2.png","width":600,"height":60}},"image":{"@type":"ImageObject","@id":"https:\/\/blogs.sap.com\/wp-content\/uploads\/2023\/01\/model_report.jpg","url":"https:\/\/blogs.sap.com\/wp-content\/uploads\/2023\/01\/model_report.jpg","height":"","width":""},"url":"https:\/\/blogs.sap.com\/2023\/01\/09\/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics\/","about":["Technical Articles"],"wordCount":3578,"keywords":["HANA Cloud Machine Learning"]}</script>
<script type="application/ld+json" data-schema="Breadcrumb">{"@context":"https:\/\/schema.org\/","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"2023","item":"https:\/\/blogs.sap.com\/2023\/#breadcrumbitem"},{"@type":"ListItem","position":2,"name":"01","item":"https:\/\/blogs.sap.com\/2023\/\/01\/#breadcrumbitem"},{"@type":"ListItem","position":3,"name":"09","item":"https:\/\/blogs.sap.com\/2023\/\/01\/\/09\/#breadcrumbitem"},{"@type":"ListItem","position":4,"name":"SAP HANA Cloud Machine Learning Challenge &#8220;I quit!&#8221; &#8211; understanding metrics","item":"https:\/\/blogs.sap.com\/2023\/01\/09\/sap-hana-cloud-machine-learning-challenge-i-quit-understanding-metrics\/#breadcrumbitem"}]}</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-comment-editor/js/action-tooltip-handler.min.js' id='tooltip-handler-js'></script>
<script type='text/javascript' id='unified_header-js-extra'>
/* <![CDATA[ */
var headerInitArgs = {"system":"blogs","wrapperID":"page","breadcrumbItems":[{"text":"Blogs","href":"https:\/\/blogs.sap.com"}]};
/* ]]> */
</script>
<script type='text/javascript' src='https://static.community.services.sap/com-hdr/v10/276.100.53/shared-ui/1dx-assets/js/scn-header.min.js' id='unified_header-js'></script>
<script type='text/javascript' id='unified_header-js-after'>
            scnHeader.init(headerInitArgs);
            setCookie("userArgs", headerInitArgs.user ? JSON.stringify(headerInitArgs.user) : "", { path : "/" });
    
</script>
<script type='text/javascript' src='https://static.community.services.sap/designmate/v3/241/latest/header.js' id='designmate_header_script-js'></script>
<script type='text/javascript' src='https://static.community.services.sap/designmate/v3/241/latest/subheader.js' id='designmate_subheader_script-js'></script>
<script type='text/javascript' src='https://static.community.services.sap/designmate/v3/241/latest/designmate.js' id='designmate_script-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-includes/js/comment-reply.min.js' id='comment-reply-js'></script>
<script type='text/javascript' id='satm_handler-js-extra'>
/* <![CDATA[ */
var satmContentSelectors = ["div.dm-contentDetail__body-content","div.dm-list-comments__item-content","div.ds-blog-post__body","div.ds-blog-post-comment__content"];
var satmProfileBaseUrl = "people.sap.com\/";
var satmUssUrl = "https:\/\/uss.api.community.sap.com";
var satmChangeableElementsSelectors = ["div.dm-list-comments__item-content","div.ds-blog-post-comment__content"];
var satmPluginEnabled = "1";
var satmApiUrl = "https:\/\/uss.api.community.sap.com";
var satmApiCallWithCredentials = "1";
var satmRequestDelayMs = "100";
/* ]]> */
</script>
<script type='text/javascript' defer src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-at-mention/js/sap-at-mention.min.js' id='satm_handler-js'></script>
<script type='text/javascript' id='sap-comment-validation-js-extra'>
/* <![CDATA[ */
var commentValidation = {"validateMaxLinks":"1","max_links_number":"7","BLOGS_PAGE":"single"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-comment-editor/js/sap-comment-validation.min.js' id='sap-comment-validation-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-core-custom/include/js/sap-post-status.min.js' id='scn_post_status_check-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/js/jquery-plugins.min.js' id='sap_jquery_plugins-js'></script>
<script type='text/javascript' id='sap-login-csrf-cookie-js-extra'>
/* <![CDATA[ */
var sapLoginCookieConfig = {"cookieName":"SAP_BLOGS_ANONYMOUS_NONCE","sapActionName":"s_action"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-core-custom/include/js/sap-login-csrf-cookie.min.js' id='sap-login-csrf-cookie-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-core-custom/include/js/sap-eddl.min.js' id='sap_eddl-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-lightbox-gallery/lib/lightbox-gallery.min.js' id='sap_lightbox_gallery_js-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/js/choices.min.js' id='choices.js-js'></script>
<script type='text/javascript' id='wprc-script-js-extra'>
/* <![CDATA[ */
var wprcajaxhandler = {"ajaxurl":"https:\/\/blogs.sap.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-report-content/static/js/v3/scripts.min.js' id='wprc-script-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/js/single.min.js' id='sap_single_v3-js'></script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/js/onscroll-sticky.min.js' id='onscroll_sticky-js'></script>
<script type='text/javascript' id='blog-detail-page-js-extra'>
/* <![CDATA[ */
var alertReasonsSelectArgs = {"selectId":"sap-blog-alert-reasons","reasons":["Incorrect Tag\/Category\r","Cross-Posting\r","Private Information\r","Unprofessional Conduct\r","Spam"]};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/themes/sap-v3-neo/dist/blog-detail.min.js' id='blog-detail-page-js'></script>
<script type='text/javascript' id='sap_assignedtags_widget_js_v3-js-extra'>
/* <![CDATA[ */
var assignedTagsWidgetSettings = {"maxItemsBeforeHide":"7","data":{"Machine Learning":"https:\/\/blogs.sap.com\/tags\/240174591523510321507492941674121\/","HANA Cloud Machine Learning":"https:\/\/blogs.sap.com\/tag\/hana-cloud-machine-learning\/"},"widgetClassname":".ds-assigned-tags"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-widgets/include/assigned-tags/js/sap-assigned-tags-widget.min.js' id='sap_assignedtags_widget_js_v3-js'></script>
<script type='text/javascript' id='sap_relatedcontent_widget_js_v3-js-extra'>
/* <![CDATA[ */
var relatedContentWidgetSettings = {"widgetSelector":".widget_sap-relatedcontent-widget-v3","dataSourceServiceUrl":"https:\/\/searchproxy.api.community.sap.com\/api\/v1\/search\/similar-content","profileUrl":"https:\/\/people.sap.com","targetContentItem":{"id":1676502,"type":"blogpost","title":"SAP HANA Cloud Machine Learning Challenge \"I quit!\" - understanding metrics","primary_tag":"240174591523510321507492941674121"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.sap.com/res1dx-575/wp-content/plugins/sap-widgets/include/related-content/js/sap-related-content-widget.min.js' id='sap_relatedcontent_widget_js_v3-js'></script>
<div id="wp-load_tinymce-wrap" class="wp-core-ui wp-editor-wrap html-active"><link rel='stylesheet' id='dashicons-css' href='https://blogs.sap.com/res1dx-575/wp-includes/css/dashicons.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='editor-buttons-css' href='https://blogs.sap.com/res1dx-575/wp-includes/css/editor.min.css' type='text/css' media='all' />
<style>#wp-load_tinymce-wrap {display:none;}</style>
<div id="wp-load_tinymce-editor-container" class="wp-editor-container"><div id="qt_load_tinymce_toolbar" class="quicktags-toolbar"></div><textarea class="wp-editor-area" rows="20" cols="40" name="load_tinymce" id="load_tinymce"></textarea></div>
</div>

<link rel='preload' href='https://blogs.sap.com/wp-includes/js/tinymce/skins/lightgray/skin.min.css?wp-mce-49110-20201110' as='style'><link rel='preload' href='https://blogs.sap.com/wp-includes/js/tinymce/plugins/codesample/css/prism.css' as='style'><link rel='preload' href='https://blogs.sap.com/wp-includes/js/tinymce/skins/lightgray/content.min.css?wp-mce-49110-20201110' as='style'>
		<script type="text/javascript">
		tinyMCEPreInit = {
			baseURL: "https://blogs.sap.com/wp-includes/js/tinymce",
			suffix: ".min",
						mceInit: {},
			qtInit: {'load_tinymce':{id:"load_tinymce",buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,more,close"}},
			ref: {plugins:"",theme:"modern",language:""},
			load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
		</script>
				<script type="text/javascript">
		var ajaxurl = "/wp-admin/admin-ajax.php";
		( function() {
			var init, id, $wrap;

			if ( typeof tinymce !== 'undefined' ) {
				if ( tinymce.Env.ie && tinymce.Env.ie < 11 ) {
					tinymce.$( '.wp-editor-wrap ' ).removeClass( 'tmce-active' ).addClass( 'html-active' );
					return;
				}

				for ( id in tinyMCEPreInit.mceInit ) {
					init = tinyMCEPreInit.mceInit[id];
					$wrap = tinymce.$( '#wp-' + id + '-wrap' );

					if ( ( $wrap.hasClass( 'tmce-active' ) || ! tinyMCEPreInit.qtInit.hasOwnProperty( id ) ) && ! init.wp_skip_init ) {
						tinymce.init( init );

						if ( ! window.wpActiveEditor ) {
							window.wpActiveEditor = id;
						}
					}
				}
			}

			if ( typeof quicktags !== 'undefined' ) {
				for ( id in tinyMCEPreInit.qtInit ) {
					quicktags( tinyMCEPreInit.qtInit[id] );

					if ( ! window.wpActiveEditor ) {
						window.wpActiveEditor = id;
					}
				}
			}
		}());
		</script>
				<div id="wp-link-backdrop" style="display: none"></div>
		<div id="wp-link-wrap" class="wp-core-ui" style="display: none" role="dialog" aria-labelledby="link-modal-title">
		<form id="wp-link" tabindex="-1">
		<input type="hidden" id="_ajax_linking_nonce" name="_ajax_linking_nonce" value="f144608ed5" />		<h3 id="link-modal-title">Insert/edit link</h3>
		<button type="button" id="wp-link-close"><span class="screen-reader-text">Close</span></button>
		<div id="link-selector">
			<div id="link-options">
				<p class="howto" id="wplink-enter-url">Enter the destination URL</p>
				<div>
					<label><span>URL</span>
					<input id="wp-link-url" type="text" aria-describedby="wplink-enter-url" /></label>
				</div>
				<div class="wp-link-text-field">
					<label><span>Link Text</span>
					<input id="wp-link-text" type="text" /></label>
				</div>
				<div class="link-target">
					<label><span></span>
					<input type="checkbox" id="wp-link-target" /> Open link in a new tab</label>
				</div>
			</div>
			<p class="howto" id="wplink-link-existing-content">Or link to existing content</p>
			<div id="search-panel">
				<div class="link-search-wrapper">
					<label>
						<span class="search-label">Search</span>
						<input type="search" id="wp-link-search" class="link-search-field" autocomplete="off" aria-describedby="wplink-link-existing-content" />
						<span class="spinner"></span>
					</label>
				</div>
				<div id="search-results" class="query-results" tabindex="0">
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
				<div id="most-recent-results" class="query-results" tabindex="0">
					<div class="query-notice" id="query-notice-message">
						<em class="query-notice-default">No search term specified. Showing recent items.</em>
						<em class="query-notice-hint screen-reader-text">Search or use up and down arrow keys to select an item.</em>
					</div>
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
			</div>
		</div>
		<div class="submitbox">
			<div id="wp-link-cancel">
				<button type="button" class="button">Cancel</button>
			</div>
			<div id="wp-link-update">
				<input type="submit" value="Add Link" class="button button-primary" id="wp-link-submit" name="wp-link-submit">
			</div>
		</div>
		</form>
		</div>
		<script type="text/javascript">jQuery(window).on("load", function() {tinymce.codesampleplugin.Prism.highlightAll();});</script><script type='text/javascript'>_satellite.pageBottom();</script>        </div> <!-- .page-wrapper -->
    </body>
</html>
